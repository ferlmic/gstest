<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Générer des graphiques d'étalonnage dans un fichier PDF — plot_graphTable • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Générer des graphiques d'étalonnage dans un fichier PDF — plot_graphTable"><meta name="description" content="Créer un fichier PDF (format de papier lettre US en orientation paysage) contenant des graphiques d'étalonnage pour l'ensemble
des séries contenues dans le data frame de sortie graphTable (argument graphTable) de la fonction d'étalonnage
(benchmarking() ou stock_benchmarking()) spécifiée. Quatre types de graphiques d'étalonnage peuvent être générés pour chaque
série :
Échelle originale (argument ori_plot_flag) - graphique superposé des composantes :
Série indicatrice
Moyennes de la série indicatrice
Série indicatrice corrigée pour le biais (lorsque \(\rho &amp;lt; 1\))
Série étalonnée
Moyennes des étalons

Échelle d'ajustement (argument adj_plot_flag) - graphique superposé des composantes :
Ajustements d'étalonnage
Moyennes des ajustements d'étalonnage
Ligne du biais (lorsque \(\rho &amp;lt; 1\))

Taux de croissance (argument GR_plot_flag) - diagramme à barres des taux de croissance des séries indicatrice et
étalonnée.
Tableau des taux de croissance (argument GR_table_flag) - tableau des taux de croissance des séries indicatrice et
étalonnée.


Ces graphiques peuvent être utiles pour évaluer la qualité des résultats de l'étalonnage. N'importe lequel des quatre types de
graphiques d'étalonnage peut être activé ou désactivé à l'aide du drapeau (flag) correspondant. Les trois premiers types graphiques
sont générés par défaut alors que le quatrième (le tableau des taux de croissance) ne l'est pas."><meta property="og:description" content="Créer un fichier PDF (format de papier lettre US en orientation paysage) contenant des graphiques d'étalonnage pour l'ensemble
des séries contenues dans le data frame de sortie graphTable (argument graphTable) de la fonction d'étalonnage
(benchmarking() ou stock_benchmarking()) spécifiée. Quatre types de graphiques d'étalonnage peuvent être générés pour chaque
série :
Échelle originale (argument ori_plot_flag) - graphique superposé des composantes :
Série indicatrice
Moyennes de la série indicatrice
Série indicatrice corrigée pour le biais (lorsque \(\rho &amp;lt; 1\))
Série étalonnée
Moyennes des étalons

Échelle d'ajustement (argument adj_plot_flag) - graphique superposé des composantes :
Ajustements d'étalonnage
Moyennes des ajustements d'étalonnage
Ligne du biais (lorsque \(\rho &amp;lt; 1\))

Taux de croissance (argument GR_plot_flag) - diagramme à barres des taux de croissance des séries indicatrice et
étalonnée.
Tableau des taux de croissance (argument GR_table_flag) - tableau des taux de croissance des séries indicatrice et
étalonnée.


Ces graphiques peuvent être utiles pour évaluer la qualité des résultats de l'étalonnage. N'importe lequel des quatre types de
graphiques d'étalonnage peut être activé ou désactivé à l'aide du drapeau (flag) correspondant. Les trois premiers types graphiques
sont générés par défaut alors que le quatrième (le tableau des taux de croissance) ne l'est pas."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Navigation sur le site"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Dernière version publiée">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Prise en main</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Référence</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Livre de recette sur l'étalonnage</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">Un script d'étalonnage pour débutant</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">« Data frame » pour la séquence de paramètres d'OSQP</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-nouveaut-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Nouveautés</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-nouveaut-s"><li><h6 class="dropdown-header" data-toc-skip>Versions</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v3.0.0/">G-Séries 3.0 (version la plus récente - librairie R gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Séries 2.0 (version SAS®)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Séries 1.04 (version SAS®)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changements</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Rechercher sur le site" placeholder="Rechercher" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/fr/','/en/');"><span class="fa fa-language fa-lg"></span> English</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Générer des graphiques d'étalonnage dans un fichier PDF</h1>
      <small class="dont-index">Source : <a href="https://github.com/ferlmic/gstest/tree/main/fr/R/plot_graphTable.R" class="external-link"><code>R/plot_graphTable.R</code></a></small>
      <div class="d-none name"><code>plot_graphTable.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Créer un fichier PDF (format de papier lettre US en orientation paysage) contenant des graphiques d'étalonnage pour l'ensemble
des séries contenues dans le <em>data frame</em> de sortie <strong>graphTable</strong> (argument <code>graphTable</code>) de la fonction d'étalonnage
(<code><a href="benchmarking.html">benchmarking()</a></code> ou <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code>) spécifiée. Quatre types de graphiques d'étalonnage peuvent être générés pour chaque
série :</p><ul><li><p><strong>Échelle originale</strong> (argument <code>ori_plot_flag</code>) - graphique superposé des composantes :</p><ul><li><p>Série indicatrice</p></li>
<li><p>Moyennes de la série indicatrice</p></li>
<li><p>Série indicatrice corrigée pour le biais (lorsque \(\rho &lt; 1\))</p></li>
<li><p>Série étalonnée</p></li>
<li><p>Moyennes des étalons</p></li>
</ul></li>
<li><p><strong>Échelle d'ajustement</strong> (argument <code>adj_plot_flag</code>) - graphique superposé des composantes :</p><ul><li><p>Ajustements d'étalonnage</p></li>
<li><p>Moyennes des ajustements d'étalonnage</p></li>
<li><p>Ligne du biais (lorsque \(\rho &lt; 1\))</p></li>
</ul></li>
<li><p><strong>Taux de croissance</strong> (argument <code>GR_plot_flag</code>) - diagramme à barres des taux de croissance des séries indicatrice et
étalonnée.</p></li>
<li><p><strong>Tableau des taux de croissance</strong> (argument <code>GR_table_flag</code>) - tableau des taux de croissance des séries indicatrice et
étalonnée.</p></li>
</ul><p>Ces graphiques peuvent être utiles pour évaluer la qualité des résultats de l'étalonnage. N'importe lequel des quatre types de
graphiques d'étalonnage peut être activé ou désactivé à l'aide du drapeau (<em>flag</em>) correspondant. Les trois premiers types graphiques
sont générés par défaut alors que le quatrième (le tableau des taux de croissance) ne l'est pas.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Utilisation<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_graphTable</span><span class="op">(</span></span>
<span>  <span class="va">graphTable</span>,</span>
<span>  <span class="va">pdf_file</span>,</span>
<span>  ori_plot_flag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  adj_plot_flag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  GR_plot_flag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  GR_table_flag <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_bookmarks <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graphtable">graphTable<a class="anchor" aria-label="anchor" href="#arg-graphtable"></a></dt>
<dd><p>(obligatoire)</p>
<p><em>Data frame</em>, ou objet compatible, correspondant au <em>data frame</em> de sortie <strong>graphTable</strong> de la fonction d'étalonnage.</p></dd>


<dt id="arg-pdf-file">pdf_file<a class="anchor" aria-label="anchor" href="#arg-pdf-file"></a></dt>
<dd><p>(obligatoire)</p>
<p>Nom (et chemin) du fichier PDF qui contiendra les graphiques d'étalonnage. Le nom doit inclure l'extension de fichier
« .pdf ». Le fichier PDF sera créé dans le répertoire de travail de la session R (tel que renvoyé par <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code>) si aucun
chemin n'est spécifié. La sécification de <code>NULL</code> annulerait la création d'un fichier PDF.</p></dd>


<dt id="arg-ori-plot-flag-adj-plot-flag-gr-plot-flag-gr-table-flag">ori_plot_flag, adj_plot_flag, GR_plot_flag, GR_table_flag<a class="anchor" aria-label="anchor" href="#arg-ori-plot-flag-adj-plot-flag-gr-plot-flag-gr-table-flag"></a></dt>
<dd><p>(optionnels)</p>
<p>Arguments logiques (<em>logical</em>) indiquant si le type de graphique d'étalonnage correspondant doit être généré ou non. Les trois
premiers types de graphiques sont générés par défaut alors que le quatrième (le tableau des taux de croissance) ne l'est pas.</p>
<p><strong>Les valeurs par défaut</strong> sont <code>ori_plot_flag = TRUE</code>, <code>adj_plot_flag = TRUE</code>, <code>GR_plot_flag = TRUE</code> et
<code>GR_table_flag = FALSE</code>.</p></dd>


<dt id="arg-add-bookmarks">add_bookmarks<a class="anchor" aria-label="anchor" href="#arg-add-bookmarks"></a></dt>
<dd><p>Argument logique (<em>logical</em>) indiquant si des signets doivent être ajoutés au fichier PDF. Voir <strong>Signets</strong> dans la section
<strong>Détails</strong> pour plus d'informations.</p>
<p><strong>La valeur par défaut</strong> est <code>add_bookmarks = TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="valeur-de-retour">Valeur de retour<a class="anchor" aria-label="anchor" href="#valeur-de-retour"></a></h2>
    <p>En plus de créer un fichier PDF contenant les graphiques d'étalonnage (sauf si <code>pdf_file = NULL</code>), cette fonction renvoie également
de manière invisible une liste comprenant les éléments suivants :</p><ul><li><p><strong>pdf_name</strong> : Chaîne de caractères (vecteur de type caractère de longueur un) qui contient le nom complet et le chemin du fichier
PDF s'il a été créé avec succès et <code>invisible(NA_character_)</code> dans le cas contraire ou si <code>pdf_file = NULL</code> a été spécifié.</p></li>
<li><p><strong>graph_list</strong> : Liste des graphiques d'étalonnage générés (une par série) comprenant les éléments suivants :</p><ul><li><p><strong>name</strong> : Chaîne de caractères décrivant la série (concorde avec le nom du signet dans le fichier PDF).</p></li>
<li><p><strong>page</strong> : Entier représentant le numéro de séquence du premier graphique de la série dans la séquence complète des graphiques
pour toutes les séries (concorde avec le numéro de page dans le fichier PDF).</p></li>
<li><p><strong>ggplot_list</strong> : Liste d'objets ggplot (une par graphique ou par page dans le fichier PDF) correspondant aux graphiques
d'étalonnage générés pour la série. Voir la section <strong>Valeur</strong> dans <a href="bench_graphs.html">bench_graphs</a> pour plus de détails.</p></li>
</ul></li>
</ul><p>Notez que les objets ggplot renvoyés par la fonction peuvent être affichés <em>manuellement</em> avec <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, auquel cas certaines mises
à jour des paramètres par défaut du thème ggplot2 sont recommandées afin de produire des graphiques ayant une apparence similaire à
ceux générés dans le fichier PDF (voir la section <strong>Valeur</strong> dans <a href="bench_graphs.html">bench_graphs</a> pour les détails). Gardez également à l'esprit que
ces graphiques sont optimisés pour un format de papier Lettre US en orientation paysage, c.-à-d., 11po de large (27.9cm, 1056px avec
96 PPP) et 8.5po de haut (21.6cm, 816px avec 96 PPP).</p>
    </div>
    <div class="section level2">
    <h2 id="d-tails">Détails<a class="anchor" aria-label="anchor" href="#d-tails"></a></h2>
    <p>Liste des variables du <em>data frame</em> <strong>graphTable</strong> (argument <code>graphTable</code>) correspondant à chaque élément des quatre
types de graphiques d'étalonnage:</p><ul><li><p>Échelle originale (argument <code>ori_plot_flag</code>)</p><ul><li><p><code>subAnnual</code> pour la ligne <em>Indicator Series</em></p></li>
<li><p><code>avgSubAnnual</code> pour les segments <em>Avg. Indicator Series</em></p></li>
<li><p><code>subAnnualCorrected</code> pour la ligne <em>Bias Corr. Indicator Series</em> (lorsque \(\rho &lt; 1\))</p></li>
<li><p><code>benchmarked</code> pour la ligne <em>Benchmarked Series</em></p></li>
<li><p><code>avgBenchmark</code> pour les segments <em>Average Benchmark</em></p></li>
</ul></li>
<li><p>Échelle d'ajustement (argument <code>adj_plot_flag</code>)</p><ul><li><p><code>benchmarkedSubAnnualRatio</code> pour la ligne <em>BI Ratios (Benchmarked Series / Indicator Series)</em> \(^{(*)}\)</p></li>
<li><p><code>avgBenchmarkSubAnnualRatio</code> pour les segments <em>Average BI Ratios</em> \(^{(*)}\)</p></li>
<li><p><code>bias</code> pour la ligne <em>Bias</em> (lorsque \(\rho &lt; 1\))</p></li>
</ul></li>
<li><p>Taux de croissance (argument <code>GR_plot_flag</code>)</p><ul><li><p><code>growthRateSubAnnual</code> pour les barres <em>Growth R. in Indicator Series</em> \(^{(*)}\)</p></li>
<li><p><code>growthRateBenchmarked</code> pour les barres <em>Growth R. in Benchmarked Series</em> \(^{(*)}\)</p></li>
</ul></li>
<li><p>Tableau des taux de croissance (argument <code>GR_table_flag</code>)</p><ul><li><p><code>year</code> pour la colonne <em>Year</em></p></li>
<li><p><code>period</code> pour la colonne <em>Period</em></p></li>
<li><p><code>subAnnual</code> pour la colonne <em>Indicator Series</em></p></li>
<li><p><code>benchmarked</code> pour la colonne <em>Benchmarked Series</em></p></li>
<li><p><code>growthRateSubAnnual</code> pour la colonne <em>Growth Rate in Indicator Series</em> \(^{(*)}\)</p></li>
<li><p><code>growthRateBenchmarked</code> pour la colonne <em>Growth Rate in Benchmarked Series</em> \(^{(*)}\)</p></li>
</ul></li>
</ul><p>\(^{(*)}\) Les <em>ratios étalons/indicateurs</em> (« BI ratios ») et les <em>taux de croissance</em> (« growth rates ») correspondent
en réalité à des <em>différences</em> lorsque \(\lambda = 0\) (étalonnage additif).</p>
<p>La fonction utilise les colonnes supplémentaires du <em>data frame</em> <code>graphTable</code> (colonnes non listées dans la section
<strong>Valeur de retour</strong> de <code><a href="benchmarking.html">benchmarking()</a></code> et <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code>), le cas échéant, pour construire les groupes-BY. Voir la
section <strong>Étalonnage de plusieurs séries</strong> de <code><a href="benchmarking.html">benchmarking()</a></code> pour plus de détails.</p><div class="section">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a></h3>


<p>Les deux types de graphiques de taux de croissance, c'est-à-dire le diagramme à barres (<code>GR_plot_flag</code>) et le tableau (<code>GR_table_flag</code>),
nécessitent souvent la génération de plusieurs pages dans le fichier PDF, en particulier pour les longues séries mensuelles avec
plusieurs années de données. Cette création de pages supplémentaires ralentit l'exécution de <code>plot_graphTable()</code>. C'est pourquoi
seul le diagramme à barres est généré par défaut (<code>GR_plot_flag = TRUE</code> et <code>GR_table_flag = FALSE</code>). La désactivation des deux
types de graphiques de taux de croissance (<code>GR_plot_flag = FALSE</code> et <code>GR_table_flag = FALSE</code>) ou la réduction de la taille du
<em>data frame</em> d'entrée <code>graphTable</code> pour les séries très longues (ex., en ne gardant que les années récentes) pourrait ainsi améliorer
le temps d'exécution. Notez également que l'impact de l'étalonnage sur les taux de croissance peut être déduit du graphique dans
l'échelle d'ajustement (<code>adj_plot_flag</code>) en examinant l'ampleur du mouvement vertical (vers le bas ou vers le haut) des ajustements
d'étalonnage entre deux périodes adjacentes : plus le mouvement vertical est important, plus l'impact sur le taux de croissance
correspondant est important. Le temps d'exécution de <code>plot_graphTable()</code> pourrait donc être reduit, si nécessaire, en ne générant
que les deux premiers types de graphiques et en se concentrant sur le graphique des d'ajustements d'étalonnage pour évaluer la
préservation du mouvement d'une période à l'autre, c'est-à-dire l'impact de l'étalonnage sur les taux de croissance initiaux.</p>
</div>

<div class="section">
<h3 id="th-mes-de-ggplot-">Thèmes de ggplot2<a class="anchor" aria-label="anchor" href="#th-mes-de-ggplot-"></a></h3>


<p>Les graphiques sont générés avec la librairie ggplot2 qui est livrée avec un ensemble pratique de
<a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">thèmes complets</a> pour l'aspect général des graphiques (avec <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_grey()</a></code>
comme thème par défaut). Utilisez la fonction <code><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set()</a></code> pour changer le thème appliqué aux graphiques générés par <code>plot_graphTable()</code>
(voir les <strong>Exemples</strong>).</p>
</div>

<div class="section">
<h3 id="signets">Signets<a class="anchor" aria-label="anchor" href="#signets"></a></h3>


<p>Des signets sont ajoutés au fichier PDF avec <code><a href="https://trevorldavis.com/R/xmpdf/reference/bookmarks.html" class="external-link">xmpdf::set_bookmarks()</a></code> lorsque l'argument
<code>add_bookmarks = TRUE</code> (par défault), ce qui nécessite un outil tiers tel que <a href="https://www.ghostscript.com/" class="external-link">Ghostscript</a> ou
<a href="https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/" class="external-link">PDFtk</a>. Voir la section <strong>Installation</strong> dans
<code><a href="https://trevorldavis.com/R/xmpdf/articles/xmpdf.html" class="external-link">vignette("xmpdf", package = "xmpdf")</a></code> pour plus de détails.</p>
<p><strong>Important</strong> : les signets seront ajoutés avec succès au fichier PDF <strong>si et seulement si</strong> <code><a href="https://trevorldavis.com/R/xmpdf/reference/supports.html" class="external-link">xmpdf::supports_set_bookmarks()</a></code> renvoie <code>TRUE</code> <strong>et</strong> l'exécution de <code><a href="https://trevorldavis.com/R/xmpdf/reference/bookmarks.html" class="external-link">xmpdf::set_bookmarks()</a></code> est réussie.
Si Ghostscript est installé sur votre machine mais que <code><a href="https://trevorldavis.com/R/xmpdf/reference/supports.html" class="external-link">xmpdf::supports_set_bookmarks()</a></code> renvoie toujours <code>FALSE</code>, essayez de
spécifier le chemin de l'exécutable Ghostscript dans la variable d'environnement <code>R_GSCMD</code> (ex.,
<code>Sys.setenv(R_GSCMD = "C:/Program Files/.../bin/gswin64c.exe")</code> avec Windows). D'un autre côté, si
<code>xmpdf::supports_set_bookmarks()}</code> renvoie <code>TRUE</code> mais que vous rencontrez des problèmes (insolubles) avec <code><a href="https://trevorldavis.com/R/xmpdf/reference/bookmarks.html" class="external-link">xmpdf::set_bookmarks()</a></code>
(ex., erreur liée à l'exécutable Ghostscript), la création de signets peut être désactivée en spécifiant <code>add_bookmarks = FALSE</code>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="voir-galement">Voir également<a class="anchor" aria-label="anchor" href="#voir-galement"></a></h2>
    <div class="dont-index"><p><a href="bench_graphs.html">bench_graphs</a> <code><a href="plot_benchAdj.html">plot_benchAdj()</a></code> <code><a href="benchmarking.html">benchmarking()</a></code> <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Exemples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Définir le répertoire de travail (pour les fichiers graphiques PDF)</span></span></span>
<span class="r-in"><span><span class="va">rep_ini</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ventes trimestrielles de voitures et camionnettes (séries indicatrices)</span></span></span>
<span class="r-in"><span><span class="va">ind_tri</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># Voitures</span></span></span>
<span class="r-in"><span>              <span class="fl">1851</span>, <span class="fl">2436</span>, <span class="fl">3115</span>, <span class="fl">2205</span>, <span class="fl">1987</span>, <span class="fl">2635</span>, <span class="fl">3435</span>, <span class="fl">2361</span>, <span class="fl">2183</span>, <span class="fl">2822</span>,</span></span>
<span class="r-in"><span>              <span class="fl">3664</span>, <span class="fl">2550</span>, <span class="fl">2342</span>, <span class="fl">3001</span>, <span class="fl">3779</span>, <span class="fl">2538</span>, <span class="fl">2363</span>, <span class="fl">3090</span>, <span class="fl">3807</span>, <span class="fl">2631</span>,</span></span>
<span class="r-in"><span>              <span class="fl">2601</span>, <span class="fl">3063</span>, <span class="fl">3961</span>, <span class="fl">2774</span>, <span class="fl">2476</span>, <span class="fl">3083</span>, <span class="fl">3864</span>, <span class="fl">2773</span>, <span class="fl">2489</span>, <span class="fl">3082</span>,</span></span>
<span class="r-in"><span>              <span class="co"># Camionnettes</span></span></span>
<span class="r-in"><span>              <span class="fl">1900</span>, <span class="fl">2200</span>, <span class="fl">3000</span>, <span class="fl">2000</span>, <span class="fl">1900</span>, <span class="fl">2500</span>, <span class="fl">3800</span>, <span class="fl">2500</span>, <span class="fl">2100</span>, <span class="fl">3100</span>,</span></span>
<span class="r-in"><span>              <span class="fl">3650</span>, <span class="fl">2950</span>, <span class="fl">3300</span>, <span class="fl">4000</span>, <span class="fl">3290</span>, <span class="fl">2600</span>, <span class="fl">2010</span>, <span class="fl">3600</span>, <span class="fl">3500</span>, <span class="fl">2100</span>,</span></span>
<span class="r-in"><span>              <span class="fl">2050</span>, <span class="fl">3500</span>, <span class="fl">4290</span>, <span class="fl">2800</span>, <span class="fl">2770</span>, <span class="fl">3080</span>, <span class="fl">3100</span>, <span class="fl">2800</span>, <span class="fl">3100</span>, <span class="fl">2860</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2011</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     frequency <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>     names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"voitures"</span>, <span class="st">"camionnettes"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ventes annuelles de voitures et camionnettes (étalons)</span></span></span>
<span class="r-in"><span><span class="va">eta_tri</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># Voitures</span></span></span>
<span class="r-in"><span>              <span class="fl">10324</span>, <span class="fl">10200</span>, <span class="fl">10582</span>, <span class="fl">11097</span>, <span class="fl">11582</span>, <span class="fl">11092</span>,</span></span>
<span class="r-in"><span>              <span class="co"># Camionnettes</span></span></span>
<span class="r-in"><span>              <span class="fl">12000</span>, <span class="fl">10400</span>, <span class="fl">11550</span>, <span class="fl">11400</span>, <span class="fl">14500</span>, <span class="fl">16000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     start <span class="op">=</span> <span class="fl">2011</span>,</span></span>
<span class="r-in"><span>     frequency <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>     names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"voitures"</span>, <span class="st">"camionnettes"</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Étalonnage proportionnel sans correction pour le biais</span></span></span>
<span class="r-in"><span><span class="va">res_eta</span> <span class="op">&lt;-</span> <span class="fu"><a href="benchmarking.html">benchmarking</a></span><span class="op">(</span><span class="va">ind_tri</span>, <span class="va">eta_tri</span>,</span></span>
<span class="r-in"><span>                        rho <span class="op">=</span> <span class="fl">0.729</span>, lambda <span class="op">=</span> <span class="fl">1</span>, biasOption <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                        allCols <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                        quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [voitures] with benchmarks [voitures]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -------------------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [camionnettes] with benchmarks [camionnettes]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ensemble de graphiques par défaut (les 3 premiers types de graphiques)</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">res_eta</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"graphes_etalonnage.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\graphes_etalonnage.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Utiliser temporairement `theme_bw()` de ggplot2 pour les graphiques</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">theme_ini</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_get</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">res_eta</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"graphes_etalonnage_bw.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\graphes_etalonnage_bw.pdf</span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="va">theme_ini</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generer les 4 types de graphiques (incluant le tableau des taux de croissance)</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">res_eta</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"graphes_etalonnage_avec_tableauTC.pdf"</span>,</span></span>
<span class="r-in"><span>                GR_table_flag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\graphes_etalonnage_avec_tableauTC.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Réduire le temps d'exécution en désactivant les deux types de graphiques </span></span></span>
<span class="r-in"><span><span class="co"># des taux de croissance</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">res_eta</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"graphes_etalonnage_sans_TC.pdf"</span>,</span></span>
<span class="r-in"><span>                GR_plot_flag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\graphes_etalonnage_sans_TC.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Réinitialiser le répertoire de travail à son emplacement initial</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">rep_ini</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table des matières"><h2>Sur cette page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Développé par Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

