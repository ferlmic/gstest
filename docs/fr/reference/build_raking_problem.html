<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Construire les éléments du problème de ratissage. — build_raking_problem • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Construire les éléments du problème de ratissage. — build_raking_problem"><meta name="description" content="Cette fonction est utilisée à l'interne par tsraking() pour construire les éléments du problème de ratissage. Elle peut
également être utile pour dériver manuellement les totaux transversaux (des marges) du problème de ratissage (en dehors du
contexte de tsraking())."><meta property="og:description" content="Cette fonction est utilisée à l'interne par tsraking() pour construire les éléments du problème de ratissage. Elle peut
également être utile pour dériver manuellement les totaux transversaux (des marges) du problème de ratissage (en dehors du
contexte de tsraking())."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Navigation sur le site"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Dernière version publiée">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Prise en main</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Référence</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Livre de recette sur l'étalonnage</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">Un script d'étalonnage pour débutant</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">« Data frame » pour la séquence de paramètres d'OSQP</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-nouveaut-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Nouveautés</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-nouveaut-s"><li><h6 class="dropdown-header" data-toc-skip>Versions</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/tree/main/">G-Séries 3.0 (version la plus récente - librairie R gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Séries 2.0 (version SAS®)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Séries 1.04 (version SAS®)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changements</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Rechercher sur le site" placeholder="Rechercher" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/fr/','/en/');"><span class="fa fa-language fa-lg"></span> English</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Construire les éléments du problème de ratissage.</h1>
      <small class="dont-index">Source : <a href="https://github.com/ferlmic/gstest/tree/main/fr/R/tsraking.R" class="external-link"><code>R/tsraking.R</code></a></small>
      <div class="d-none name"><code>build_raking_problem.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Cette fonction est utilisée à l'interne par <code><a href="tsraking.html">tsraking()</a></code> pour construire les éléments du problème de ratissage. Elle peut
également être utile pour dériver manuellement les totaux transversaux (des marges) du problème de ratissage (en dehors du
contexte de <code><a href="tsraking.html">tsraking()</a></code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Utilisation<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">build_raking_problem</span><span class="op">(</span></span>
<span>  <span class="va">data_df</span>,</span>
<span>  <span class="va">metadata_df</span>,</span>
<span>  data_df_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse1</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="va">data_df</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  metadata_df_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse1</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="va">metadata_df</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  alterability_df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alterSeries <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alterTotal1 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alterTotal2 <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data-df">data_df<a class="anchor" aria-label="anchor" href="#arg-data-df"></a></dt>
<dd><p>(obligatoire)</p>
<p><em>Data frame</em>, ou objet compatible, qui contient les données des séries chronologiques à réconcilier. Il doit au minimum
contenir des variables correspondant aux séries composantes et aux totaux de contrôle transversaux spécifiés dans le
<em>data frame</em> des métadonnées de ratissage (argument <code>metadata_df</code>). Si plus d'un enregistrement (plus d'une période) est
fournie, la somme des valeurs des séries composantes fournies sera également préservée à travers des contraintes
temporelles implicites.</p></dd>


<dt id="arg-metadata-df">metadata_df<a class="anchor" aria-label="anchor" href="#arg-metadata-df"></a></dt>
<dd><p>(obligatoire)</p>
<p><em>Data frame</em>, ou objet compatible, qui décrit les contraintes d'agrégation transversales (règles d'additivité) pour le
problème de ratissage (« <em>raking</em> »). Deux variables de type caractère doivent être incluses dans le <em>data frame</em> :
<code>series</code> et <code>total1</code>. Deux variables sont optionnelles : <code>total2</code> (caractère) et <code>alterAnnual</code> (numérique). Les valeurs
de la variable <code>series</code> représentent les noms des variables des séries composantes dans le <em>data frame</em> des données
d'entrée (argument <code>data_df</code>). De même, les valeurs des variables <code>total1</code> et <code>total2</code> représentent les noms des variables
des totaux de contrôle transversaux de 1<sup>ère</sup> et 2<sup>ème</sup> dimension dans le <em>data frame</em> des données
d'entrée. La variable <code>alterAnnual</code> contient le coefficient d'altérabilité pour la contrainte temporelle associée à
chaque série composante. Lorsqu'elle est spécifiée, cette dernière remplace le coefficient d'altérabilité par défaut
spécifié avec l'argument <code>alterAnnual</code>.</p></dd>


<dt id="arg-data-df-name">data_df_name<a class="anchor" aria-label="anchor" href="#arg-data-df-name"></a></dt>
<dd><p>(optionnel)</p>
<p>Chaîne de caractères contenant la valeur de l'argument <code>data_df</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>data_df_name = deparse1(substitute(data_df))</code>.</p></dd>


<dt id="arg-metadata-df-name">metadata_df_name<a class="anchor" aria-label="anchor" href="#arg-metadata-df-name"></a></dt>
<dd><p>(optionnel)</p>
<p>Chaîne de caractères contenant la valeur de l'argument <code>metadata_df</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>data_df_name = deparse1(substitute(metadata_df))</code>.</p></dd>


<dt id="arg-alterability-df">alterability_df<a class="anchor" aria-label="anchor" href="#arg-alterability-df"></a></dt>
<dd><p>(optionnel)</p>
<p><em>Data frame</em>, ou objet compatible, ou <code>NULL</code>, qui contient les variables de coefficients d'altérabilité. Elles
doivent correspondre à une série composante ou à un total de contrôle transversal, c'est-à-dire qu'une variable
portant le même nom doit exister dans le <em>data frame</em> des données d'entrée (argument <code>data_df</code>). Les valeurs de
ces coefficients d'altérabilité remplaceront les coefficients d'altérabilité par défaut spécifiés avec les arguments
<code>alterSeries</code>, <code>alterTotal1</code> et <code>alterTotal2</code>. Lorsque le <em>data frame</em> des données d'entrée contient plusieurs
enregistrements et que le <em>data frame</em> des coefficients d'altérabilité n'en contient qu'un seul, les coefficients
d'altérabilité sont utilisés (répétés) pour tous les enregistrements du <em>data frame</em> des données d'entrée. Le
<em>data frame</em> des coefficients d'altérabilité peut également contenir autant d'enregistrements que le <em>data frame</em>
des données d'entrée.</p>
<p><strong>La valeur par défaut</strong> est <code>alterability_df = NULL</code> (coefficients d'altérabilité par défaut).</p></dd>


<dt id="arg-alterseries">alterSeries<a class="anchor" aria-label="anchor" href="#arg-alterseries"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif spécifiant le coefficient d'altérabilité par défaut pour les valeurs des séries composantes.
Il s'appliquera aux séries composantes pour lesquelles des coefficients d'altérabilité n'ont pas déjà été spécifiés
dans le <em>data frame</em> des coefficients d'altérabilité (argument <code>alterability_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>alterSeries = 1.0</code> (valeurs des séries composantes non contraignantes).</p></dd>


<dt id="arg-altertotal-">alterTotal1<a class="anchor" aria-label="anchor" href="#arg-altertotal-"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif spécifiant le coefficient d'altérabilité par défaut pour les totaux de contrôle transversaux
de la 1<sup>ère</sup> dimension. Il s'appliquera aux totaux de contrôle transversaux pour lesquels des coefficients
d'altérabilité n'ont pas déjà été spécifiés dans le <em>data frame</em> des coefficients d'altérabilité (argument
<code>alterability_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>alterTotal1 = 0.0</code> (totaux de contrôle transversaux de 1<sup>ère</sup> dimension
contraignants).</p></dd>


<dt id="arg-altertotal-">alterTotal2<a class="anchor" aria-label="anchor" href="#arg-altertotal-"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif spécifiant le coefficient d'altérabilité par défaut pour les totaux de contrôle transversaux
de la 2<sup>ème</sup> dimension. Il s'appliquera aux totaux de contrôle transversaux pour lesquels des coefficients
d'altérabilité n'ont pas déjà été spécifiés dans le <em>data frame</em> des coefficients d'altérabilité (argument
<code>alterability_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>alterTotal2 = 0.0</code> (totaux de contrôle transversaux de 2<sup>ème</sup> dimension
contraignants).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="valeur-de-retour">Valeur de retour<a class="anchor" aria-label="anchor" href="#valeur-de-retour"></a></h2>
    <p>Une liste avec les éléments du problème de ratissage (excluant les totaux temporels implicites) :</p><ul><li><p><code>x</code>         : vecteur des valeurs initiales des séries composantes</p></li>
<li><p><code>c_x</code>       : vecteur des coefficients d'altérabilité des séries composantes</p></li>
<li><p><code>comp_cols</code> : vecteur des noms des séries composantes (colonnes de <code>data_df</code>)</p></li>
<li><p><code>g</code>         : vecteur des valeurs initiales des totaux transversaux</p></li>
<li><p><code>c_g</code>       : vecteur des coefficients d'altérabilité des totaux transversaux</p></li>
<li><p><code>tot_cols</code>  : vecteur des noms des totaux transversaux (colonnes de <code>data_df</code>)</p></li>
<li><p><code>G</code>         : matrice d'agrégation des totaux transversaux (<code>g = G %*% x</code>)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="d-tails">Détails<a class="anchor" aria-label="anchor" href="#d-tails"></a></h2>
    <p>Voir <code><a href="tsraking.html">tsraking()</a></code> pour une description détaillée des problèmes de <em>ratissage de séries chronologiques</em>.</p>
<p>Les éléments du problème de ratissage renvoyés n'incluent pas les totaux temporels implicites des séries de
composantes, le cas échéant (c.-à-d., les éléments <code>g</code> et <code>G</code> ne contiennent que l'information sur les totaux
transversaux).</p>
<p>Lorsque les données d'entrée contiennent plusieurs périodes (scénario de préservation des totaux temporels),
les éléments <code>x</code>, <code>c_x</code>, <code>g</code>, <code>c_g</code> et <code>G</code> du problème de ratissage sont construits <em>colonne par colonne</em>
(selon le principe « column-major order » en anglais), ce qui correspond au comportement par défaut de R lors
de la conversion d'objets de la classe « matrix » en vecteurs.</p>
    </div>
    <div class="section level2">
    <h2 id="voir-galement">Voir également<a class="anchor" aria-label="anchor" href="#voir-galement"></a></h2>
    <div class="dont-index"><p><code><a href="tsraking.html">tsraking()</a></code> <code><a href="build_balancing_problem.html">build_balancing_problem()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Exemples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Dériver les totaux de marge d'un cube de données à deux dimensions (2 x 3) </span></span></span>
<span class="r-in"><span><span class="co"># en utilisant les métadonnées de `tsraking()`.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mes_meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"A3"</span>,</span></span>
<span class="r-in"><span>                                  <span class="st">"B1"</span>, <span class="st">"B2"</span>, <span class="st">"B3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       total1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"totA"</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                  <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"totB"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                       total2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tot1"</span>, <span class="st">"tot2"</span>, <span class="st">"tot3"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_meta</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   series total1 total2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     A1   totA   tot1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     A2   totA   tot2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     A3   totA   tot3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     B1   totB   tot1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     B2   totB   tot2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     B3   totB   tot3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 6 périodes de données avec totaux de marge initialisés à `NA` (ces derniers doivent</span></span></span>
<span class="r-in"><span><span class="co"># OBLIGATOIREMENT exister dans les données d'entrée mais peuvent être `NA`).</span></span></span>
<span class="r-in"><span><span class="va">mes_series</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>A1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">10</span>, <span class="fl">12</span>,  <span class="fl">9</span>, <span class="fl">15</span>,  <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         B1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">21</span>, <span class="fl">15</span>, <span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">18</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         A2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>,  <span class="fl">9</span>,  <span class="fl">8</span>,  <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         B2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">29</span>, <span class="fl">20</span>, <span class="fl">24</span>, <span class="fl">21</span>, <span class="fl">17</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         A3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">15</span>, <span class="fl">17</span>, <span class="fl">14</span>, <span class="fl">16</span>, <span class="fl">12</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         B3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">23</span>, <span class="fl">21</span>, <span class="fl">19</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         tot1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         tot2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         tot3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         totA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         totB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Obtenir les éléments du problème de ratissage.</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">build_raking_problem</span><span class="op">(</span><span class="va">mes_series</span>, <span class="va">mes_meta</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ x        : num [1:36] 12 10 12 9 15 7 14 9 8 9 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c_x      : num [1:36] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ comp_cols: chr [1:6] "A1" "A2" "A3" "B1" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ g        : logi [1:30] NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c_g      : num [1:30] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tot_cols : chr [1:5] "totA" "totB" "tot1" "tot2" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ G        : num [1:30, 1:36] 1 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculer les 5 totaux de marge pour les 6 périodes.</span></span></span>
<span class="r-in"><span><span class="va">mes_series</span><span class="op">[</span><span class="va">p</span><span class="op">$</span><span class="va">tot_cols</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">$</span><span class="va">G</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">p</span><span class="op">$</span><span class="va">x</span></span></span>
<span class="r-in"><span><span class="va">mes_series</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A1 B1 A2 B2 A3 B3 tot1 tot2 tot3 totA totB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 12 20 14 20 13 24   32   34   37   39   64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 10 21  9 29 15 20   31   38   35   34   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 12 15  8 20 17 30   27   28   47   37   65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  9 17  9 24 14 23   26   33   37   32   64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 15 19 11 21 16 21   34   32   37   42   61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  7 18 10 17 12 19   25   27   31   29   54</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table des matières"><h2>Sur cette page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Développé par Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

