<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rétablir les contraintes temporelles — benchmarking • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rétablir les contraintes temporelles — benchmarking"><meta name="description" content="Réplication de la procédure BENCHMARKING de G-Séries 2.0 en SAS\(^\circledR\) (PROC BENCHMARKING).
Voir la documentation de G-Séries 2.0 pour plus de détails (Statistique Canada 2016).
Cette fonction assure la cohérence entre les données de séries chronologiques d'une même variable cible mesurée à des
fréquences différentes (ex., infra-annuellement et annuellement). L'étalonnage consiste à imposer le niveau de la série
d'étalons (ex., données annuelles) tout en minimisant, autant que possible, les révisions au mouvement observé dans
la série indicatrice (ex., données infra-annuelles). La fonction permet également l'étalonnage non contraignant où
la série d'étalons peut également être révisée.
La fonction peut également être utilisée pour des sujets liés à l'étalonnage tels que la distribution temporelle
(action réciproque de l'étalonnage : désagrégation de la série d'étalons en observations plus fréquentes), la
calendarisation (cas spécial de distribution temporelle) et le raccordement (« linking » : connexion de différents
segments de séries chronologiques en une série chronologique unique et cohérente).
Plusieurs séries peuvent être étalonnées en un seul appel de fonction."><meta property="og:description" content="Réplication de la procédure BENCHMARKING de G-Séries 2.0 en SAS\(^\circledR\) (PROC BENCHMARKING).
Voir la documentation de G-Séries 2.0 pour plus de détails (Statistique Canada 2016).
Cette fonction assure la cohérence entre les données de séries chronologiques d'une même variable cible mesurée à des
fréquences différentes (ex., infra-annuellement et annuellement). L'étalonnage consiste à imposer le niveau de la série
d'étalons (ex., données annuelles) tout en minimisant, autant que possible, les révisions au mouvement observé dans
la série indicatrice (ex., données infra-annuelles). La fonction permet également l'étalonnage non contraignant où
la série d'étalons peut également être révisée.
La fonction peut également être utilisée pour des sujets liés à l'étalonnage tels que la distribution temporelle
(action réciproque de l'étalonnage : désagrégation de la série d'étalons en observations plus fréquentes), la
calendarisation (cas spécial de distribution temporelle) et le raccordement (« linking » : connexion de différents
segments de séries chronologiques en une série chronologique unique et cohérente).
Plusieurs séries peuvent être étalonnées en un seul appel de fonction."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Navigation sur le site"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Dernière version publiée">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Prise en main</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Référence</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Livre de recette sur l'étalonnage</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">Un script d'étalonnage pour débutant</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">« Data frame » pour la séquence de paramètres d'OSQP</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-nouveaut-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Nouveautés</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-nouveaut-s"><li><h6 class="dropdown-header" data-toc-skip>Versions</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/tree/main/">G-Séries 3.0 (version la plus récente - librairie R gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Séries 2.0 (version SAS®)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Séries 1.04 (version SAS®)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changements</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Rechercher sur le site" placeholder="Rechercher" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/fr/','/en/');"><span class="fa fa-language fa-lg"></span> English</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Rétablir les contraintes temporelles</h1>
      <small class="dont-index">Source : <a href="https://github.com/ferlmic/gstest/tree/main/fr/R/benchmarking.R" class="external-link"><code>R/benchmarking.R</code></a></small>
      <div class="d-none name"><code>benchmarking.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><em>Réplication de la procédure BENCHMARKING de G-Séries 2.0 en SAS\(^\circledR\) (PROC BENCHMARKING).
Voir la documentation de G-Séries 2.0 pour plus de détails (Statistique Canada 2016).</em></p>
<p>Cette fonction assure la cohérence entre les données de séries chronologiques d'une même variable cible mesurée à des
fréquences différentes (ex., infra-annuellement et annuellement). L'étalonnage consiste à imposer le niveau de la série
d'étalons (ex., données annuelles) tout en minimisant, autant que possible, les révisions au mouvement observé dans
la série indicatrice (ex., données infra-annuelles). La fonction permet également l'étalonnage non contraignant où
la série d'étalons peut également être révisée.</p>
<p>La fonction peut également être utilisée pour des sujets liés à l'étalonnage tels que la <em>distribution temporelle</em>
(action réciproque de l'étalonnage : désagrégation de la série d'étalons en observations plus fréquentes), la
<em>calendarisation</em> (cas spécial de distribution temporelle) et le <em>raccordement</em> (« <em>linking</em> » : connexion de différents
segments de séries chronologiques en une série chronologique unique et cohérente).</p>
<p>Plusieurs séries peuvent être étalonnées en un seul appel de fonction.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Utilisation<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">benchmarking</span><span class="op">(</span></span>
<span>  <span class="va">series_df</span>,</span>
<span>  <span class="va">benchmarks_df</span>,</span>
<span>  <span class="va">rho</span>,</span>
<span>  <span class="va">lambda</span>,</span>
<span>  <span class="va">biasOption</span>,</span>
<span>  bias <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  tolV <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  tolP <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  warnNegResult <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tolN <span class="op">=</span> <span class="op">-</span><span class="fl">0.001</span>,</span>
<span>  var <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>  with <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span></span>
<span>  <span class="co"># Nouveau dans G-Séries 3.0</span></span>
<span>  constant <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  negInput_option <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  allCols <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-series-df">series_df<a class="anchor" aria-label="anchor" href="#arg-series-df"></a></dt>
<dd><p>(obligatoire)</p>
<p><em>Data frame</em>, ou objet compatible, qui contient les données de la (des) série(s) indicatrice(s) à étalonner. En plus de
la (des) variable(s) contenant les données, spécifiée(s) avec l'argument <code>var</code>, le <em>data frame</em> doit aussi contenir deux
variables numériques, <code>year</code> et <code>period</code>, identifiant les périodes des séries indicatrices.</p></dd>


<dt id="arg-benchmarks-df">benchmarks_df<a class="anchor" aria-label="anchor" href="#arg-benchmarks-df"></a></dt>
<dd><p>(obligatoire)</p>
<p><em>Data frame</em>, ou objet compatible, qui contient les étalons. En plus de la (des) variable(s) contenant les données,
spécifiée(s) avec l'argument <code>with</code>, le <em>data frame</em> doit aussi contenir quatre variables numériques, <code>startYear</code>,
<code>startPeriod</code>, <code>endYear</code> et <code>endPeriod</code>, identifiant les périodes des séries indicatrices couvertes par chaque étalon.</p></dd>


<dt id="arg-rho">rho<a class="anchor" aria-label="anchor" href="#arg-rho"></a></dt>
<dd><p>(obligatoire)</p>
<p>Nombre réel compris dans l'intervalle \([0,1]\) qui spécifie la valeur du paramètre autorégressif \(\rho\).
Voir la section <strong>Détails</strong> pour plus d'informations sur l'effet du paramètre \(\rho\).</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>(obligatoire)</p>
<p>Nombre réel, avec des valeurs suggérées dans l'intervalle \([-3,3]\), qui spécifie la valeur du paramètre du modèle
d'ajustement \(\lambda\). Les valeurs typiques sont <code>lambda = 0.0</code> pour un modèle additif et <code>lambda = 1.0</code> pour un
modèle proportionnel.</p></dd>


<dt id="arg-biasoption">biasOption<a class="anchor" aria-label="anchor" href="#arg-biasoption"></a></dt>
<dd><p>(obligatoire)</p>
<p>Spécification de l'option d'estimation du biais :</p><ul><li><p><code>1</code> : Ne pas estimer le biais. Le biais utilisé pour corriger la série indicatrice sera la valeur
spécifiée avec l'argument <code>bias</code>.</p></li>
<li><p><code>2</code> : Estimer le biais, afficher le résultat, mais ne pas l'utiliser. Le biais utilisé pour corriger
la série indicatrice sera la valeur spécifiée avec l'argument <code>bias</code>.</p></li>
<li><p><code>3</code> : Estimer le biais, afficher le résultat et utiliser le biais estimé pour corriger la série indicatrice.
Toute valeur spécifiée avec l'argument <code>bias</code> sera ignorée.</p></li>
</ul><p>L'argument <code>biasOption</code> n'est pas utilisé quand <code>rho = 1.0</code>. Voir la section <strong>Détails</strong> pour plus d'informations sur
le biais.</p></dd>


<dt id="arg-bias">bias<a class="anchor" aria-label="anchor" href="#arg-bias"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel, ou <code>NA</code>, spécifiant la valeur du biais défini par l'utilisateur à utiliser pour la correction de la série
indicatrice avant de procéder à l'étalonnage. Le biais est ajouté à la série indicatrice avec un modèle additif
(argument <code>lambda = 0.0</code>) alors qu'il est multiplié dans le cas contraire (argument <code>lambda != 0.0</code>). Aucune correction
de biais n'est appliquée lorsque <code>bias = NA</code>, ce qui équivaut à spécifier <code>bias = 0.0</code> lorsque <code>lambda = 0.0</code> et
<code>bias = 1.0</code> dans le cas contraire. L'argument <code>bias</code> n'est pas utilisé lorsque <code>biasOption = 3</code> ou <code>rho = 1.0</code>. Voir la
section <strong>Détails</strong> pour plus d'informations sur le biais.</p>
<p><strong>La valeur par défaut</strong> est <code>bias = NA</code> (pas de biais défini par l'utilisateur).</p></dd>


<dt id="arg-tolv-tolp">tolV, tolP<a class="anchor" aria-label="anchor" href="#arg-tolv-tolp"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif, ou <code>NA</code>, spécifiant la tolérance, en valeur absolue ou en pourcentage, à utiliser pour
la validation des étalons contraignants (coefficient d'altérabilité de \(0.0\)) en sortie. Cette validation consiste à
comparer la valeur des étalons contraignants en entrée à la valeur équivalente calculée à partir des données de la série
étalonnée (sortie). Les arguments <code>tolV</code> et <code>tolP</code> ne peuvent pas être spécifiés tous les deux à la fois (l'un doit être
spécifié tandis que l'autre doit être <code>NA</code>).</p>
<p><strong>Exemple :</strong> pour une tolérance de 10 <em>unités</em>, spécifiez <code>tolV = 10, tolP = NA</code>; pour une tolérance de 1%,
spécifiez <code>tolV = NA, tolP = 0.01</code>.</p>
<p><strong>Les valeurs par défaut</strong> sont <code>tolV = 0.001</code> et <code>tolP = NA</code>.</p></dd>


<dt id="arg-warnnegresult">warnNegResult<a class="anchor" aria-label="anchor" href="#arg-warnnegresult"></a></dt>
<dd><p>(optionnel)</p>
<p>Argument logique (<em>logical</em>) spécifiant si un message d'avertissement doit être affiché lorsqu'une valeur négative
créée par la fonction dans la série étalonnée (en sortie) est inférieure au seuil spécifié avec l'argument <code>tolN</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>warnNegResult = TRUE</code>.</p></dd>


<dt id="arg-toln">tolN<a class="anchor" aria-label="anchor" href="#arg-toln"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel négatif spécifiant le seuil pour l'identification des valeurs négatives. Une valeur est considérée
négative lorsqu'elle est inférieure à ce seuil.</p>
<p><strong>La valeur par défaut</strong> est <code>tolN = -0.001</code>.</p></dd>


<dt id="arg-var">var<a class="anchor" aria-label="anchor" href="#arg-var"></a></dt>
<dd><p>(optionnel)</p>
<p>Vecteur (longueur minimale de 1) de chaînes de caractères spécifiant le(s) nom(s) de variable(s) du <em>data frame</em> des séries
indicatrices (argument <code>series_df</code>) contenant les valeurs et (optionnellement) les coefficients d'altérabilité définis par
l'utilisateur de la (des) série(s) à étalonner. Ces variables doivent être numériques.</p>
<p>La syntaxe est <code>var = c("serie1 &lt;/ alt_ser1&gt;", "serie2 &lt;/ alt_ser2&gt;", ...)</code>. Des coefficients d'altérabilité par défaut
de \(1.0\) sont utilisés lorsqu'une variable de coefficients d'altérabilité définie par l'utilisateur n'est pas spécifiée
à côté d'une variable de série indicatrice. Voir la section <strong>Détails</strong> pour plus d'informations sur les coefficients
d'altérabilité.</p>
<p><strong>Exemple :</strong> <code>var = "value / alter"</code> étalonnerait la variable <code>value</code> du <em>data frame</em> des séries indicatrices avec les
coefficients d'altérabilité contenus dans la variable <code>alter</code> tandis que <code>var = c("value / alter", "value2")</code> étalonnerait
en plus la variable <code>value2</code> avec des coefficients d'altérabilité par défaut de \(1.0\).</p>
<p><strong>La valeur par défaut</strong> est <code>var = "value"</code> (étalonner la variable <code>value</code> avec des coefficients d'altérabilité par défaut
de \(1.0\)).</p></dd>


<dt id="arg-with">with<a class="anchor" aria-label="anchor" href="#arg-with"></a></dt>
<dd><p>(optionnel)</p>
<p>Vecteur (même longueur que l'argument <code>var</code>) de chaînes de caractères, ou <code>NULL</code>, spécifiant le(s) nom(s) de variable(s)
du <em>data frame</em> des étalons (argument <code>benchmarks_df</code>) contenant les valeurs et (optionnellement) les coefficients
d'altérabilité définis par l'utilisateur des étalons. Ces variables doivent être numériques. La spécification de <code>with = NULL</code>
entraîne l'utilisation de variable(s) d'étalons correspondant à la (aux) variable(s) spécifiée(s) avec l'argument <code>var</code> sans
coefficients d'altérabilité d'étalons définis par l'utilisateur (c'est  à dire des coefficients d'altérabilité par défaut de
\(0.0\) correspondant à des étalons contraignants).</p>
<p>La syntaxe est <code>with = NULL</code> ou <code>with = c("bmk1 &lt;/ alt_bmk1&gt;", "bmk2 &lt;/ alt_bmk2&gt;", ...)</code>. Des coefficients d'altérabilité
par défaut de \(0.0\) (étalons contraignants) sont utilisés lorsqu'une variable de coefficients d'altérabilité définie
par l'utilisateur n'est pas spécifiée à côté d'une variable d'étalon. Voir la section <strong>Détails</strong> pour plus d'informations
sur les coefficients d'altérabilité.</p>
<p><strong>Exemple :</strong> <code>with = "val_bmk"</code> utiliserait la variable <code>val_bmk</code> du <em>data frame</em> des étalons avec les coefficients
d'altérabilité par défaut de \(0.0\) pour étalonner la série indicatrice tandis que
<code>with = c("val_bmk", "val_bmk2 / alt_bmk2")</code> étalonnerait en plus une deuxième série indicatrice en utilisant la variable
d'étalons <code>val_bmk2</code> avec les coefficients d'altérabilité d'étalons contenus dans la variable <code>alt_bmk2</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>with = NULL</code> (même(s) variable(s) d'étalons que l'argument <code>var</code> avec des coefficients
d'altérabilité d'étalons par défaut de \(0.0\)).</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>(optionnel)</p>
<p>Vecteur (longueur minimale de 1) de chaînes de caractères, ou <code>NULL</code>, spécifiant le(s) nom(s) de variable(s) dans les
<em>data frames</em> d'entrée (arguments <code>series_df</code> et <code>benchmarks_df</code>) à utiliser pour former des groupes (pour le traitement
« groupes-BY ») et permettre l'étalonnage de plusieurs séries en un seul appel de fonction. Les variables groupes-BY
peuvent être numériques ou caractères (facteurs ou non), doivent être présentes dans les deux <em>data frames</em> d'entrée
et apparaîtront dans les trois <em>data frames</em> de sortie (voir la section <strong>Valeur de retour</strong>). Le traitement groupes-BY
n'est pas implémenté lorsque <code>by = NULL</code>. Voir « Étalonnage de plusieurs séries » dans la section <strong>Détails</strong> pour plus
d'informations.</p>
<p><strong>La valeur par défaut</strong> est <code>by = NULL</code> (pas de traitement groupes-BY).</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(optionnel)</p>
<p>Argument logique (<em>logical</em>) spécifiant si les informations sur les étapes intermédiaires avec le temps d'exécution
(temps réel et non le temps CPU) doivent être affichées. Notez que spécifier l'argument <code>quiet = TRUE</code> annulerait
l'argument <code>verbose</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>verbose = FALSE</code>.</p></dd>


<dt id="arg-constant">constant<a class="anchor" aria-label="anchor" href="#arg-constant"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel qui spécifie une valeur à ajouter temporairement à la fois à la (aux) série(s) indicatrice(s) et aux étalons
avant de résoudre les problèmes d'étalonnage proportionnels (<code>lambda != 0.0</code>). La constante temporaire est enlevée de la
série étalonnée finale en sortie. Par exemple, la spécification d'une (petite) constante permettrait l'étalonnage
proportionnel avec <code>rho = 1</code> (étalonnage de  Denton proportionnel) sur avec des séries indicatrices qui comprennent des
valeurs de 0. Sinon, l'étalonnage proportionnel avec des valeurs de 0 pour la série indicatrice n'est possible que
lorsque <code>rho &lt; 1</code>. Spécifier une constante avec l'étalonnage additif (<code>lambda = 0.0</code>) n'a pas d'impact sur les données
étalonnées résultantes. Les variables de données dans le <em>data frame</em> de sortie <strong>graphTable</strong> incluent la constante,
correspondant au problème d'étalonnage effectivement résolu par la fonction.</p>
<p><strong>La valeur par défaut</strong> est <code>constant = 0</code> (pas de constante additive temporaire).</p></dd>


<dt id="arg-neginput-option">negInput_option<a class="anchor" aria-label="anchor" href="#arg-neginput-option"></a></dt>
<dd><p>(optionnel)</p>
<p>Traitement des valeurs négatives dans les données d'entrée pour l'étalonnage proportionnel (<code>lambda != 0.0</code>) :</p><ul><li><p><code>0</code> : Ne pas autoriser les valeurs négatives pour l'étalonnage proportionnel. Un message d'erreur est affiché en
présence de valeurs négatives dans les séries indicatrices ou les étalons d'entrée et des valeurs manquantes (<code>NA</code>)
sont renvoyées pour les séries étalonnées. Ceci correspond au comportement de G-Séries 2.0.</p></li>
<li><p><code>1</code> : Autoriser les valeurs négatives pour l'étalonnage proportionnel mais avec l'affichage d'un message d'avertissement.</p></li>
<li><p><code>2</code> : Autoriser les valeurs négatives pour l'étalonnage proportionnel sans afficher de message.</p></li>
</ul><p><strong>La valeur par défaut</strong> est <code>negInput_option = 0</code> (ne pas autoriser les valeurs négatives pour l'étalonnage proportionnel).</p></dd>


<dt id="arg-allcols">allCols<a class="anchor" aria-label="anchor" href="#arg-allcols"></a></dt>
<dd><p>(optionnel)</p>
<p>Argument logique (<em>logical</em>) spécifiant si toutes les variables du <em>data frame</em> des séries indicatrices (argument <code>series_df</code>),
autres que <code>year</code> et <code>period</code>, déterminent l'ensemble des séries à étalonner. Les valeurs spécifiées avec les arguments <code>var</code>
et <code>with</code> sont ignorées lorsque <code>allCols = TRUE</code>, ce qui implique automatiquement des coefficients d'altérabilité par défaut,
et des variables avec les mêmes noms que les séries indicatrices doivent exister dans le <em>data frame</em> des étalons (argument
<code>benchmarks_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>allCols = FALSE</code>.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>(optionnel)</p>
<p>Argument logique (<em>logical</em>) spécifiant s'il faut ou non afficher uniquement les informations essentielles telles que les
messages d'avertissements, les messages d'erreurs et les informations sur les variables (séries) ou les groupes-BY lorsque
plusieurs séries sont étalonnées en un seul appel à la fonction. Nous vous déconseillons d'<em>envelopper</em> votre appel à
<code>benchmarking()</code> avec <code><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressMessages()</a></code> afin de supprimer l'affichage des informations sur les variables (séries) ou les
groupes-BY lors du traitement de plusieurs séries, car cela compliquerait le dépannage en cas de problèmes avec des séries
individuelles. Notez que la spécification de <code>quiet = TRUE</code> annulera également l'argument <code>verbose</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>quiet = FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="valeur-de-retour">Valeur de retour<a class="anchor" aria-label="anchor" href="#valeur-de-retour"></a></h2>
    <p>La fonction renvoie une liste de trois <em>data frames</em> :</p><ul><li><p><strong>series</strong> : <em>data frame</em> contenant les données étalonnées (sortie principale de la fonction). Les variables BY spécifiées
avec l'argument <code>by</code> sont incluses dans le <em>data frame</em> mais pas les variables de coefficient d'altérabilité spécifiées
avec l'argument <code>var</code>.</p></li>
<li><p><strong>benchmarks</strong> : copie du <em>data frame</em> d'entrée des étalons (à l'exclusion des étalons non valides, le cas échéant).
Les variables BY spécifiées avec l'argument <code>by</code> sont incluses dans le <em>data frame</em> mais pas les variables de coefficient
d'altérabilité spécifiées avec l'argument <code>with</code>.</p></li>
<li><p><strong>graphTable</strong> : <em>data frame</em> contenant des données supplémentaires utiles pour produire des tableaux et des graphiques
analytiques (voir la fonction <code><a href="plot_graphTable.html">plot_graphTable()</a></code>). Il contient les variables suivantes en plus des variables BY spécifiées
avec l'argument <code>by</code> :</p><ul><li><p><code>varSeries</code> : Nom de la variable de la série indicatrice</p></li>
<li><p><code>varBenchmarks</code> : Nom de la variable des étalons</p></li>
<li><p><code>altSeries</code> : Nom de la variable des coefficients d'altérabilité définis par l'utilisateur pour la série indicatrice</p></li>
<li><p><code>altSeriesValue</code> : Coefficients d'altérabilité de la série indicatrice</p></li>
<li><p><code>altbenchmarks</code> : Nom de la variable des coefficients d'altérabilité définis par l'utilisateur pour les étalons</p></li>
<li><p><code>altBenchmarksValue</code> : Coefficients d'altérabilité des étalons</p></li>
<li><p><code>t</code> : Identificateur de la période de la série indicatrice (1 à \(T\))</p></li>
<li><p><code>m</code> : Identificateur des périodes de couverture de l'étalon (1 à \(M\))</p></li>
<li><p><code>year</code> : Année civile du point de données</p></li>
<li><p><code>period</code> : Valeur de la période (du cycle) du point de données (1 à <code>periodicity</code>)</p></li>
<li><p><code>constant</code> : Constante additive temporaire (argument <code>constant</code>)</p></li>
<li><p><code>rho</code> : Paramètre autorégressif \(\rho\) (argument <code>rho</code>)</p></li>
<li><p><code>lambda</code> : Paramètre du modèle d'ajustement \(\lambda\) (argument <code>lambda</code>)</p></li>
<li><p><code>bias</code> : Ajustement du biais (par défaut, défini par l'utilisateur ou biais estimé selon les arguments <code>biasOption</code>
et <code>bias</code>)</p></li>
<li><p><code>periodicity</code> : Le nombre maximum de périodes dans une année (par exemple 4 pour une série indicatrice trimestrielle)</p></li>
<li><p><code>date</code> : Chaîne de caractères combinant les valeurs des variables <code>year</code> et <code>period</code></p></li>
<li><p><code>subAnnual</code> : Valeurs de la série indicatrice</p></li>
<li><p><code>benchmarked</code> : Valeurs de la série étalonnée</p></li>
<li><p><code>avgBenchmark</code> : Valeurs des étalons divisées par le nombre de périodes de couverture</p></li>
<li><p><code>avgSubAnnual</code> : Valeurs moyennes de la série indicatrice (variable <code>subAnnual</code>) pour les périodes couvertes par les
étalons</p></li>
<li><p><code>subAnnualCorrected</code> : Valeurs de la série indicatrice corrigée pour le biais</p></li>
<li><p><code>benchmarkedSubAnnualRatio</code> : Différence (\(\lambda = 0\)) ou ratio (\(\lambda \ne 0\)) des valeurs
des variables <code>benchmarked</code> et <code>subAnnual</code></p></li>
<li><p><code>avgBenchmarkSubAnnualRatio</code> : Différence (\(\lambda = 0\)) ou ratio (\(\lambda \ne 0\)) des valeurs
des variables <code>avgBenchmark</code> et <code>avgSubAnnual</code></p></li>
<li><p><code>growthRateSubAnnual</code> : Différence (\(\lambda = 0\)) ou différence relative (\(\lambda \ne 0\)) d'une
période à l'autre des valeurs de la série indicatrice (variable <code>subAnnual</code>)</p></li>
<li><p><code>growthRateBenchmarked</code> : Différence (\(\lambda = 0\)) ou différence relative (\(\lambda \ne 0\)) d'une
période à l'autre des valeurs de la série étalonnée (variable <code>benchmarked</code>)</p></li>
</ul></li>
</ul><p>Notes :</p><ul><li><p>Le <em>data frame</em> de sortie <strong>benchmarks</strong> contient toujours les étalons originaux fournis dans le <em>data frame</em> d'entrée
des étalons. Les étalons modifiés non contraignants, le cas échéant, peuvent être récupérés (calculés) à partir du <em>data frame</em>
de sortie <strong>series</strong>.</p></li>
<li><p>La fonction renvoie un objet <code>NULL</code> si une erreur se produit avant que le traitement des données ne puisse commencer.
Dans le cas contraire, si l'exécution est suffisamment avancée pour que le traitement des données puisse commencer, alors
un objet incomplet sera renvoyé en cas d'erreur (par exemple, un <em>data frame</em> de sortie <strong>series</strong> avec des valeurs <code>NA</code>
pour les données étalonnées).</p></li>
<li><p>La fonction renvoie des objets « data.frame » qui peuvent être explicitement convertis en d'autres types d'objets avec la
fonction <code>as*()</code> appropriée (ex., <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">tibble::as_tibble()</a></code> convertirait n'importe lequel d'entre eux en tibble).</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="d-tails">Détails<a class="anchor" aria-label="anchor" href="#d-tails"></a></h2>
    <p>Lorsque \(\rho &lt; 1\), cette fonction renvoie la solution des moindres carrés généralisés d'un cas particulier du modèle
général d'étalonnage basé sur la régression proposé par Dagum et Cholette (2006). Le modèle, sous forme matricielle, est le
suivant :
$$\displaystyle
\begin{bmatrix} s^\dagger \\ a \end{bmatrix} =
\begin{bmatrix} I \\ J \end{bmatrix} \theta +
\begin{bmatrix} e \\ \varepsilon \end{bmatrix}
$$
où</p><ul><li><p>\(a\) est le vecteur de longueur \(M\) des étalons.</p></li>
<li><p>\(s^\dagger = \left\{
    \begin{array}{cl}
      s + b &amp; \text{si } \lambda = 0 \\
      s \cdot b  &amp; \text{sinon}
    \end{array} \right.
  \) est le vecteur de longueur \(T\) des valeurs de la série
indicatrice corrigée pour le biais, \(s\) désignant la série indicatrice initiale (d'entrée).</p></li>
<li><p>\(b\) est le bias, qui est spécifié avec l'argument <code>bias</code> lorsque <code>bias_option != 3</code> ou, lorsque
<code>bias_option = 3</code>, est estimé par \(\hat{b} = \left\{
    \begin{array}{cl}
      \frac{{1_M}^\mathrm{T} (a - Js)}{{1_M}^\mathrm{T} J 1_T} &amp; \text{si } \lambda = 0 \\
      \frac{{1_M}^\mathrm{T} a}{{1_M}^\mathrm{T} Js} &amp; \text{sinon}
    \end{array} \right.
  \), où
\(1_X = (1, ..., 1)^\mathrm{T}\) est un vecteur de \(1\) de longueur \(X\).</p></li>
<li><p>\(J\) est la matrice \(M \times T\) des contraintes d'agrégation temporelles avec les éléments
\(j_{m, t} = \left\{
    \begin{array}{cl}
      1 &amp; \text{si l'étalon } m \text{ couvre la période } t \\
      0 &amp; \text{sinon}
    \end{array} \right.
  \).</p></li>
<li><p>\(\theta\) est le vecteur des valeurs de la série finale (étalonnée).</p></li>
<li><p>\(e \sim \left( 0, V_e \right)\) est le vecteur des erreurs de mesure de \(s^\dagger\) avec
matrice de covariance \(V_e = C \Omega_e C\).</p></li>
<li><p>\(C = \mathrm{diag} \left( \sqrt{c_{s^\dagger}} \left| s^\dagger \right|^\lambda \right)\) où \(c_{s^\dagger}\) est le vecteur des coefficients d'altérabilité de \(s^\dagger\),
en définissant \(0^0 = 1\).</p></li>
<li><p>\(\Omega_e\) est une matrice \(T \times T\) avec les éléments \(\omega_{e_{i,j}} = \rho^{|i-j|}\) représentant
l'autocorrelation d'un processus AR(1), en définissant encore \(0^0 = 1\).</p></li>
<li><p>\(\varepsilon \sim (0, V_\varepsilon)\) est le vecteur des erreurs de mesure des étalons
\(a\) avec matrice de covariance \(V_\varepsilon = \mathrm{diag} \left( c_a a \right)\) où
\(c_a\) est le vecteur des coefficients d'altérabilité des étalons \(a\).</p></li>
</ul><p>La solution des moindres carrés généralisés est la suivante :
$$\displaystyle
\hat{\theta} = s^\dagger + V_e J^{\mathrm{T}} \left( J V_e J^{\mathrm{T}} + V_\varepsilon \right)^+ \left( a - J s^\dagger \right)
$$
où \(A^{+}\) désigne l'inverse de Moore-Penrose de la matrice \(A\).</p>
<p>Lorsque \(\rho = 1\), la fonction renvoie la solution de la méthode de Denton (modifiée) :
$$\displaystyle
\hat{\theta} = s + W \left( a - J s \right)
$$
où</p><ul><li><p>\(W\) est la matrice du coin supérieur droit du produit matriciel suivant
$$
    \left[\begin{array}{cc}
      D^{+} \Delta^{\mathrm{T}} \Delta D^{+} &amp; J^{\mathrm{T}} \\
      J &amp; 0
    \end{array} \right]^{+}
    \left[\begin{array}{cc}
      D^{+} \Delta^{\mathrm{T}} \Delta D^{+} &amp; 0 \\
      J &amp; I_M
    \end{array} \right] =
    \left[\begin{array}{cc}
      I_T &amp; W \\
      0 &amp; W_\nu
    \end{array} \right]
  $$</p></li>
<li><p>\(D = \mathrm{diag} \left( \left| s \right|^\lambda \right)\), en définissant \(0^0 = 1\). Notez
que \(D\) correspond à \(C\) avec \(c_{s^\dagger} = 1.0\) et sans correction de biais (arguments
<code>bias_option = 1</code> et <code>bias = NA</code>).</p></li>
<li><p>\(\Delta\) est une matrice \(T-1 \times T\) avec les éléments \(\delta_{i,j} = \left\{
    \begin{array}{cl}
      -1 &amp; \text{si } i=j \\
      1 &amp; \text{si } j=i+1 \\
      0 &amp; \text{sinon}
    \end{array} \right.
  \).</p></li>
<li><p>\(W_\nu\) est une matrice \(M \times M\) associée aux multiplicateurs de Lagrange du problème de minimisation
correspondant exprimé comme suit :
$$\displaystyle
\begin{aligned}
&amp; \underset{\theta}{\text{minimiser}}
&amp; &amp; \sum_{t \ge 2} \left[ \frac{\left( s_t - \theta_t \right)}{\left| s_t\right|^\lambda}
      - \frac{\left( s_{t-1} - \theta_{t-1} \right)}{\left| s_{t-1}\right|^\lambda} \right]^2 \\
&amp; \text{sous contrainte(s)}
&amp; &amp; a = J \theta
\end{aligned}
$$</p></li>
</ul><p>Voir Quenneville et al. (2006) et Dagum and Cholette (2006) pour les détails.</p><div class="section">
<h3 id="param-tre-autor-gressif-rho-et-le-biais">Paramètre autorégressif \(\rho\) et le <em>biais</em><a class="anchor" aria-label="anchor" href="#param-tre-autor-gressif-rho-et-le-biais"></a></h3>


<p>Le paramètre \(\rho\) (argument <code>rho</code>) est associé au changement entre la série indicatrice (d'entrée) et la série étalonnée
(de sortie) pour deux périodes consécutives et est souvent appelé <em>paramètre de préservation du mouvement</em>. Plus la valeur de
\(\rho\) est grande, plus les mouvements d'une période à l'autre de la série indicatrice sont préservés dans la série étalonnée.
Avec \(\rho = 0\), la préservation des mouvements d'une période à l'autre n'est pas appliquée et les ajustements d'étalonnage
qui en résultent ne sont pas lisses, comme dans le cas du prorata (\(\rho = 0\) et \(\lambda = 0.5\)) où les ajustements
prennent la forme d'une <em>fonction en escalier</em>. À l'autre extrémité du spectre on trouve \(\rho = 1\), appelé
<em>étalonnage de Denton</em>, où la préservation du mouvement d'une période à l'autre est maximisée, ce qui se traduit par l'ensemble
le plus lisse possible d'ajustements d'étalonnage disponibles avec la fonction.</p>
<p>Le <em>biais</em> représente l'écart attendu entre les étalons et la série indicatrice. Il peut être utilisé pour pré-ajuster
la série indicatrice afin de réduire, en moyenne, les écarts entre les deux sources de données. La correction du biais, qui est
spécifiée avec les arguments <code>biasOption</code> et <code>bias</code>, peut être particulièrement utile pour les périodes non couvertes par les
étalons lorsque \(\rho &lt; 1\). Dans ce contexte, le paramètre \(\rho\) dicte la vitesse à laquelle les ajustements
d'étalonnage projetés convergent vers le biais (ou convergent vers <em>aucun ajustement</em> sans correction du biais) pour les périodes
non couvertes par un étalon. Plus la valeur de \(\rho\) est petite, plus la convergence vers le biais est rapide, avec
convergence immédiate lorsque \(\rho = 0\) et aucune convergence (l'ajustement de la dernière période couverte par un étalon
est répété indéfiniment) lorsque \(\rho = 1\) (étalonnage de Denton). En fait, les arguments <code>biasOption</code> et <code>bias</code> ne sont
pas utilisés lorsque \(\rho = 1\) puisque la correction du biais n'a pas d'impact sur les résultats de l'étalonnage de Denton.
La valeur suggérée pour \(\rho\) est \(0.9\) pour les indicateurs mensuels et \(0.9^3 = 0.729\) pour les indicateurs
trimestriels, ce qui représente un compromis raisonnable entre maximiser la préservation du mouvement et réduire les révisions
à mesure que de nouveaux étalons deviendront disponibles à l'avenir (<em>problème d'actualité</em> de l'étalonnage). En pratique, il
convient de noter que l'étalonnage de Denton pourrait être <em>approximé</em> avec le modèle basé sur la régression en utilisant une
valeur de \(\rho\) inférieure à, mais très proche de \(1.0\) (par exemple, \(\rho = 0.999\)). Voir Dagum et Cholette (2006)
pour une discussion complète sur ce sujet.</p>
</div>

<div class="section">
<h3 id="coefficients-d-alt-rabilit-">Coefficients d'altérabilité<a class="anchor" aria-label="anchor" href="#coefficients-d-alt-rabilit-"></a></h3>


<p>Les coefficients d'altérabilité \(c_{s^\dagger}\) et \(c_a\) représentent conceptuellement les erreurs de mesure
associées aux valeurs de la série indicatrice (corrigée pour le biais) \(s^\dagger\) et des étalons \(a\)
respectivement. Il s'agit de nombres réels non négatifs qui, en pratique, spécifient l'ampleur de la modification permise d'une
valeur initiale par rapport aux autres valeurs. Un coefficient d'altérabilité de \(0.0\) définit une valeur fixe
(contraignante), tandis qu'un coefficient d'altérabilité supérieur à \(0.0\) définit une valeur libre (non contraignante).
L'augmentation du coefficient d'altérabilité d'une valeur initiale entraîne davantage de changements pour cette valeur dans la
solution d'étalonnage et, inversement, moins de changements lorsque l'on diminue le coefficient d'altérabilité. Les coefficients
d'altérabilité par défaut sont \(0.0\) pour les étalons (contraignants) et \(1.0\) pour les valeurs de la série indicatrice
(non contraignantes). Remarques importantes :</p><ul><li><p>Avec une valeur de \(\rho = 1\) (argument <code>rho = 1</code>, associé à l'étalonnage de Denton), seuls les coefficients
d'altérabilité par défaut (\(0.0\) pour un étalon et \(1.0\) pour une valeur de série indicatrice) sont valides. La
spécification de variables de coefficients d'altérabilité définies par l'utilisateur n'est donc pas autorisée. Si de telles
variables sont spécifiées (voir les arguments <code>var</code> et <code>with</code>), la fonction les ignore et affiche un message d'avertissement
dans la console.</p></li>
<li><p>Les coefficients d'altérabilité \(c_{s^\dagger}\) entrent en jeu après que la série indicatrice ait été corrigée
pour le biais, lorsqu'applicable (\(c_{s^\dagger}\) est associé à \(s^\dagger\) et non à \(s\)). Cela
signifie que la spécification d'un coefficient d'altérabilité de \(0.0\) pour une valeur de série indicatrice donnée
<strong>ne se traduira pas</strong> par une valeur inchangée après étalonnage <strong>avec correction du biais</strong> (voir les arguments <code>biasOption</code>
et <code>bias</code>).</p></li>
</ul><p>Les étalons non contraignants, le cas échéant, peuvent être récupérés (calculés) à partir de la série étalonnée (voir le
<em>data frame</em> de sortie <strong>series</strong> dans la section <strong>Valeur de retour</strong>). Le <em>data frame</em> de sortie <strong>benchmarks</strong> contient
toujours les étalons fournis dans le <em>data frame</em> d'entrée des étalons (argument <code>benchmarks_df</code>).</p>
</div>

<div class="section">
<h3 id="-talonnage-de-plusieurs-s-ries">Étalonnage de plusieurs séries<a class="anchor" aria-label="anchor" href="#-talonnage-de-plusieurs-s-ries"></a></h3>


<p>Plusieurs séries peuvent être étalonnées en un seul appel à <code>benchmarking()</code>, en spécifiant <code>allCols = TRUE</code>, en spécifiant
(manuellement) plusieurs variables avec l'argument <code>var</code> (et l'argument <code>with</code>) ou avec le traitement groupes-BY (argument
<code>by != NULL</code>). Une distinction importante est que toutes les séries indicatrices spécifiées avec <code>allCols = TRUE</code>  ou avec
l'argument <code>var</code> (et les étalons avec l'argument <code>with</code>) doivent avoir la même longueur, c'est-à-dire le même ensemble de
périodes et et le même ensemble (nombre) d'étalons. L'étalonnage de séries de longueurs différentes (différents ensembles
de périodes) ou avec différents ensembles (nombres) d'étalons doit être effectué avec un traitement groupes-BY sur des données
empilées pour les <em>data frames</em> d'entrée de séries indicatrices et d'étalons (voir les fonctions utilitaires <code><a href="stack_tsDF.html">stack_tsDF()</a></code>
et <code><a href="stack_bmkDF.html">stack_bmkDF()</a></code>). Les arguments <code>by</code> et <code>var</code> peuvent être combinés afin d'implémenter le traitement groupes-BY pour des
séries multiples comme illustré par l'<em>Exemple 2</em> dans la section <strong>Exemples</strong>. Alors que l'utilisation de variables multiples
avec 'argument <code>var</code> (ou <code>allCols = TRUE</code>) sans traitement groupes-BY (argument <code>by = NULL</code>) est légèrement plus efficace
(plus rapide), une approche groupes-BY avec une seule variable de série est généralement recommandée car elle est plus générale
(fonctionne dans tous les contextes). Cette dernière est illustrée par l'<em>Exemple 3</em> dans la section <strong>Exemples</strong>. Les
variables BY spécifiées avec l'argument <code>by</code> apparaissent dans les trois <em>data frames</em> de sortie.</p>
</div>

<div class="section">
<h3 id="arguments-constant-et-neginput-option">Arguments <code>constant</code> et <code>negInput_option</code><a class="anchor" aria-label="anchor" href="#arguments-constant-et-neginput-option"></a></h3>


<p>Ces arguments permettent d'étendre l'utilisation de l'étalonnage proportionnel à un plus grand nombre de problèmes. Leurs
valeurs par défaut correspondent au comportement de G-Séries 2.0 (SAS\(^\circledR\) PROC BENCHMARKING) pour lequel des
options équivalentes ne sont pas définies. Bien que l'étalonnage proportionnel ne soit pas nécessairement l'approche la plus
appropriée (l'étalonnage additif pourrait être plus indiqué) lorsque les valeurs de la série indicatrice approchent de 0 (ratios
d'une période à l'autre instables) ou « traversent la ligne de 0 » et peuvent donc passer de positives à négatives et vice-versa
(ratios d'une période à l'autre difficiles à interpréter), ces cas ne sont pas invalides d'un point de vue mathématique (le
problème d'étalonnage proportionnel associé peut être résolu). Il est toutefois fortement recommandé d'analyser et de valider
soigneusement les données étalonnées obtenues dans ces situations pour s'assurer qu'elles correspondent à des solutions
raisonnables et interprétables.</p>
</div>

<div class="section">
<h3 id="traitement-des-valeurs-manquantes-na-">Traitement des valeurs manquantes (<code>NA</code>)<a class="anchor" aria-label="anchor" href="#traitement-des-valeurs-manquantes-na-"></a></h3>

<ul><li><p>Si une valeur manquante apparaît dans l'une des variables du <em>data frame</em> d'entrée des étalons (autre que les variables
BY), les enregistrements avec les valeurs manquantes sont laissés de côté, un message d'avertissement est affiché et la
fonction s'exécute.</p></li>
<li><p>Si une valeur manquante apparaît dans les variables <code>year</code> ou <code>period</code> du <em>data frame</em> d'entrée des séries indicatrices
et que des variables BY sont spécifiées, le groupe-BY correspondant est ignoré, un message d'avertissement s'affiche et la
fonction passe au groupe-BY suivant. Si aucune variable BY n'est spécifiée, un message d'avertissement s'affiche
et aucun traitement n'est effectué.</p></li>
<li><p>Si une valeur manquante apparaît dans l'une des variables des données de série du <em>data frame</em> d'entrée des séries
indicatrices et que des variables BY sont spécifiées, le groupe-BY correspondant est ignoré, un message d'avertissement est
affiché et la fonction passe au groupe-BY suivant. Si aucune variable BY n'est spécifiée, la série indicatrice concernée
n'est pas traitée, un message d'avertissement est affiché et la fonction passe à la série indicatrice suivante (le cas échéant).</p></li>
</ul></div>

    </div>
    <div class="section level2">
    <h2 id="r-f-rences">Références<a class="anchor" aria-label="anchor" href="#r-f-rences"></a></h2>
    <p>Dagum, E. B. et P. Cholette (2006). <strong>Benchmarking, Temporal Distribution and Reconciliation
Methods of Time Series</strong>. Springer-Verlag, New York, Lecture Notes in Statistics, Vol. 186</p>
<p>Fortier, S. et B. Quenneville (2007). « Theory and Application of Benchmarking in Business Surveys ».
<strong>Proceedings of the Third International Conference on Establishment Surveys (ICES-III)</strong>. Montréal, juin 2007.</p>
<p>Latendresse, E., M. Djona et S. Fortier (2007). « Benchmarking Sub-Annual Series to Annual Totals –
From Concepts to SAS\(^\circledR\) Procedure and Enterprise Guide\(^\circledR\) Custom Task ». <strong>Proceedings
of the SAS\(^\circledR\) Global Forum 2007 Conference</strong>. Cary, NC: SAS Institute Inc.</p>
<p>Quenneville, B., S. Fortier, Z.-G. Chen et E. Latendresse (2006). « Recent Developments in Benchmarking to
Annual Totals in X-12-ARIMA and at Statistics Canada ». <strong>Proceedings of the Eurostat Conference on Seasonality,
Seasonal Adjustment and Their Implications for Short-Term Analysis and Forecasting</strong>. Luxembourg, mai 2006.</p>
<p>Quenneville, B., P. Cholette, S. Fortier et J. Bérubé (2010). « Benchmarking Sub-Annual Indicator
Series to Annual Control Totals (Forillon v1.04.001) ». <strong>Document interne</strong>. Statistique Canada, Ottawa, Canada.</p>
<p>Quenneville, B. et S. Fortier (2012). « Restoring Accounting Constraints in Time Series – Methods and
Software for a Statistical Agency ». <strong>Economic Time Series: Modeling and Seasonality</strong>. Chapman &amp; Hall, New York.</p>
<p>Statistique Canada (2012). <strong>Théorie et application de l’étalonnage (Code du cours 0436)</strong>.
Statistique Canada, Ottawa, Canada.</p>
<p>Statistique Canada (2016). « La procédure BENCHMARKING ». <strong>Guide de l'utilisateur de G-Séries 2.0</strong>.
Statistique Canada, Ottawa, Canada.</p>
    </div>
    <div class="section level2">
    <h2 id="voir-galement">Voir également<a class="anchor" aria-label="anchor" href="#voir-galement"></a></h2>
    <div class="dont-index"><p><code><a href="stock_benchmarking.html">stock_benchmarking()</a></code> <code><a href="plot_graphTable.html">plot_graphTable()</a></code> <a href="bench_graphs.html">bench_graphs</a> <code><a href="plot_benchAdj.html">plot_benchAdj()</a></code> <code><a href="gs.gInv_MP.html">gs.gInv_MP()</a></code> <a href="aliases.html">aliases</a></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Exemples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Définir le répertoire de travail (pour les fichiers graphiques PDF)</span></span></span>
<span class="r-in"><span><span class="va">rep_ini</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">###########</span></span></span>
<span class="r-in"><span><span class="co"># Exemple 1 : Cas simple d'étalonnage d'une série trimestrielle à des valeurs annuelles</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Série indicatrice trimestrielle</span></span></span>
<span class="r-in"><span><span class="va">mes_ind1</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.9</span>, <span class="fl">2.4</span>, <span class="fl">3.1</span>, <span class="fl">2.2</span>, <span class="fl">2.0</span>, <span class="fl">2.6</span>, <span class="fl">3.4</span>, <span class="fl">2.4</span>, <span class="fl">2.3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_ind1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   year period value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 2015      1   1.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 2015      2   2.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 2015      3   3.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 2015      4   2.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 2016      1   2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 2016      2   2.6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 2016      3   3.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 2016      4   2.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 2017      1   2.3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Étalons annuels pour données trimestrielles</span></span></span>
<span class="r-in"><span><span class="va">mes_eta1</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10.3</span>, <span class="fl">10.2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           start <span class="op">=</span> <span class="fl">2015</span>,</span></span>
<span class="r-in"><span>                           frequency <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_eta1</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   startYear startPeriod endYear endPeriod value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      2015           1    2015         4  10.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      2016           1    2016         4  10.2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Étalonnage avec...</span></span></span>
<span class="r-in"><span><span class="co">#   - valeur de `rho` recommandée pour des séries trimestrielles (`rho = 0.729`)</span></span></span>
<span class="r-in"><span><span class="co">#   - modèle proportionnel (`lambda = 1`)</span></span></span>
<span class="r-in"><span><span class="co">#   - correction de la série indicatrice pour le biais avec estimation du biais </span></span></span>
<span class="r-in"><span><span class="co">#     (`biasOption = 3`)</span></span></span>
<span class="r-in"><span><span class="va">res_eta1</span> <span class="op">&lt;-</span> <span class="fu">benchmarking</span><span class="op">(</span><span class="va">mes_ind1</span>,</span></span>
<span class="r-in"><span>                         <span class="va">mes_eta1</span>,</span></span>
<span class="r-in"><span>                         rho <span class="op">=</span> <span class="fl">0.729</span>,</span></span>
<span class="r-in"><span>                         lambda <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                         biasOption <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --- Package gstest 3.0.0 - (EN) 'G-Series' in 'R' | (FR) 'G-Séries' en 'R' ---</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Created on April 8, 2025, at 3:40:01 PM EDT</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> URL: https://ferlmic.github.io/gstest/en/</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>      https://ferlmic.github.io/gstest/fr/</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Email: g-series@statcan.gc.ca</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> benchmarking() function:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     series_df          = mes_ind1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     benchmarks_df      = mes_eta1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     rho                = 0.729</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     lambda             = 1</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     biasOption         = 3 (Calculate bias, use calculated bias)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     bias               (ignored)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     tolV               = 0.001 (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     warnNegResult      = TRUE (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     tolN               = -0.001 (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     var                = value (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     with               = NULL (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     by                 = NULL (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     verbose            = FALSE (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     (*)constant        = 0 (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     (*)negInput_option = 0 (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     (*)allCols         = FALSE (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     (*)quiet           = FALSE (default)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     (*) indicates new arguments in G-Series 3.0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of observations in the BENCHMARKS data frame .............: 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of valid observations in the BENCHMARKS data frame .......: 2</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of observations in the SERIES data frame .................: 9</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Number of valid observations in the SERIES data frame ...........: 9</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> BIAS = 1.025 (calculated)</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Générerer les graphiques d'étalonnage</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_graphTable.html">plot_graphTable</a></span><span class="op">(</span><span class="va">res_eta1</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"Graphs_ex1.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 1 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\RtmpuGkRbM\Graphs_ex1.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">###########</span></span></span>
<span class="r-in"><span><span class="co"># Exemple 2 : Étalonnage de deux séries trimestrielles à des valeurs annuelles,</span></span></span>
<span class="r-in"><span><span class="co">#             avec groupes-BY et coef. d'altérabilité définis par l'utilisateur.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Données sur les ventes (mêmes ventes pour les groupes A et B; seuls les coef. </span></span></span>
<span class="r-in"><span><span class="co"># d'alté. pour les ventes de camionnettes diffèrent)</span></span></span>
<span class="r-in"><span><span class="va">ventes_tri</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># Voitures</span></span></span>
<span class="r-in"><span>                          <span class="fl">1851</span>, <span class="fl">2436</span>, <span class="fl">3115</span>, <span class="fl">2205</span>, <span class="fl">1987</span>, <span class="fl">2635</span>, <span class="fl">3435</span>, <span class="fl">2361</span>, <span class="fl">2183</span>, <span class="fl">2822</span>,</span></span>
<span class="r-in"><span>                          <span class="fl">3664</span>, <span class="fl">2550</span>, <span class="fl">2342</span>, <span class="fl">3001</span>, <span class="fl">3779</span>, <span class="fl">2538</span>, <span class="fl">2363</span>, <span class="fl">3090</span>, <span class="fl">3807</span>, <span class="fl">2631</span>,</span></span>
<span class="r-in"><span>                          <span class="fl">2601</span>, <span class="fl">3063</span>, <span class="fl">3961</span>, <span class="fl">2774</span>, <span class="fl">2476</span>, <span class="fl">3083</span>, <span class="fl">3864</span>, <span class="fl">2773</span>, <span class="fl">2489</span>, <span class="fl">3082</span>,</span></span>
<span class="r-in"><span>                          <span class="co"># Camionnettes</span></span></span>
<span class="r-in"><span>                          <span class="fl">1900</span>, <span class="fl">2200</span>, <span class="fl">3000</span>, <span class="fl">2000</span>, <span class="fl">1900</span>, <span class="fl">2500</span>, <span class="fl">3800</span>, <span class="fl">2500</span>, <span class="fl">2100</span>, <span class="fl">3100</span>,</span></span>
<span class="r-in"><span>                          <span class="fl">3650</span>, <span class="fl">2950</span>, <span class="fl">3300</span>, <span class="fl">4000</span>, <span class="fl">3290</span>, <span class="fl">2600</span>, <span class="fl">2010</span>, <span class="fl">3600</span>, <span class="fl">3500</span>, <span class="fl">2100</span>,</span></span>
<span class="r-in"><span>                          <span class="fl">2050</span>, <span class="fl">3500</span>, <span class="fl">4290</span>, <span class="fl">2800</span>, <span class="fl">2770</span>, <span class="fl">3080</span>, <span class="fl">3100</span>, <span class="fl">2800</span>, <span class="fl">3100</span>, <span class="fl">2860</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2011</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 frequency <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>                 names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"voitures"</span>, <span class="st">"camionnettes"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ventes_ann</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># Voitures</span></span></span>
<span class="r-in"><span>                          <span class="fl">10324</span>, <span class="fl">10200</span>, <span class="fl">10582</span>, <span class="fl">11097</span>, <span class="fl">11582</span>, <span class="fl">11092</span>,</span></span>
<span class="r-in"><span>                          <span class="co"># Camionnettes</span></span></span>
<span class="r-in"><span>                          <span class="fl">12000</span>, <span class="fl">10400</span>, <span class="fl">11550</span>, <span class="fl">11400</span>, <span class="fl">14500</span>, <span class="fl">16000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                 start <span class="op">=</span> <span class="fl">2011</span>,</span></span>
<span class="r-in"><span>                 frequency <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                 names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"voitures"</span>, <span class="st">"camionnettes"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Séries indicatrices trimestrielles (avec les coef. d'alté. par défaut pour l'instant)</span></span></span>
<span class="r-in"><span><span class="va">mes_ind2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>groupe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ventes_tri</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                   alt_cam <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ventes_tri</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        <span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="va">ventes_tri</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>groupe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ventes_tri</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                   alt_cam <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ventes_tri</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        <span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="va">ventes_tri</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ventes contraignantes de camionnettes (coef. d'alté. = 0) pour 2012 T1 et T2 </span></span></span>
<span class="r-in"><span><span class="co"># dans le groupe A (lignes 5 et 6)</span></span></span>
<span class="r-in"><span><span class="va">mes_ind2</span><span class="op">$</span><span class="va">alt_cam</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mes_ind2</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    groupe alt_cam year period voitures camionnettes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       A       1 2011      1     1851         1900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       A       1 2011      2     2436         2200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       A       1 2011      3     3115         3000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       A       1 2011      4     2205         2000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       A       0 2012      1     1987         1900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       A       0 2012      2     2635         2500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       A       1 2012      3     3435         3800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       A       1 2012      4     2361         2500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       A       1 2013      1     2183         2100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      A       1 2013      2     2822         3100</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">mes_ind2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    groupe alt_cam year period voitures camionnettes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55      B       1 2017      1     2476         2770</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56      B       1 2017      2     3083         3080</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57      B       1 2017      3     3864         3100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58      B       1 2017      4     2773         2800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59      B       1 2018      1     2489         3100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60      B       1 2018      2     3082         2860</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Étalons annuels pour données trimestrielles (sans coef. d'alté.)</span></span></span>
<span class="r-in"><span><span class="va">mes_eta2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>groupe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ventes_ann</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="va">ventes_ann</span>, ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>groupe <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">ventes_ann</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                        <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="va">ventes_ann</span>, ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_eta2</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    groupe startYear startPeriod endYear endPeriod voitures camionnettes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       A      2011           1    2011         4    10324        12000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       A      2012           1    2012         4    10200        10400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       A      2013           1    2013         4    10582        11550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4       A      2014           1    2014         4    11097        11400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       A      2015           1    2015         4    11582        14500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6       A      2016           1    2016         4    11092        16000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7       B      2011           1    2011         4    10324        12000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8       B      2012           1    2012         4    10200        10400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9       B      2013           1    2013         4    10582        11550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      B      2014           1    2014         4    11097        11400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11      B      2015           1    2015         4    11582        14500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12      B      2016           1    2016         4    11092        16000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Étalonnage avec...</span></span></span>
<span class="r-in"><span><span class="co">#   - valeur de `rho` recommandée pour des séries trimestrielles (`rho = 0.729`)</span></span></span>
<span class="r-in"><span><span class="co">#   - modèle proportionnel (`lambda = 1`)</span></span></span>
<span class="r-in"><span><span class="co">#   - sans correction du biais (`biasOption = 1` et `bias` non spécifié)</span></span></span>
<span class="r-in"><span><span class="co">#   - `quiet = TRUE` afin d'éviter l'affichage de l'en-tête de la fonction</span></span></span>
<span class="r-in"><span><span class="va">res_eta2</span> <span class="op">&lt;-</span> <span class="fu">benchmarking</span><span class="op">(</span><span class="va">mes_ind2</span>,</span></span>
<span class="r-in"><span>                         <span class="va">mes_eta2</span>,</span></span>
<span class="r-in"><span>                         rho <span class="op">=</span> <span class="fl">0.729</span>,</span></span>
<span class="r-in"><span>                         lambda <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                         biasOption <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                         var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"voitures"</span>, <span class="st">"camionnettes / alt_cam"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         with <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"voitures"</span>, <span class="st">"camionnettes"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                         by <span class="op">=</span> <span class="st">"groupe"</span>,</span></span>
<span class="r-in"><span>                         quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 1 (groupe=A)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ==================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [voitures] with benchmarks [voitures]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -------------------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [camionnettes] with benchmarks [camionnettes]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 2 (groupe=B)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ==================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [voitures] with benchmarks [voitures]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -------------------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [camionnettes] with benchmarks [camionnettes]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Générerer les graphiques d'étalonnage</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_graphTable.html">plot_graphTable</a></span><span class="op">(</span><span class="va">res_eta2</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"Graphs_ex2.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 4 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\RtmpuGkRbM\Graphs_ex2.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vérifier la valeur des ventes de camionnettes pour 2012 T1 et T2 </span></span></span>
<span class="r-in"><span><span class="co"># dans le groupe A (valeurs fixes)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">mes_ind2</span><span class="op">$</span><span class="va">camionnettes</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">]</span>, <span class="va">res_eta2</span><span class="op">$</span><span class="va">series</span><span class="op">$</span><span class="va">camionnettes</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">###########</span></span></span>
<span class="r-in"><span><span class="co"># Exemple 3 : identique à l'exemple 2, mais en étalonnant les 4 séries </span></span></span>
<span class="r-in"><span><span class="co">#             en tant que groupes-BY (4 groupes-BY au lieu de 2)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ventes_tri2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.union.html" class="external-link">ts.union</a></span><span class="op">(</span>A <span class="op">=</span> <span class="va">ventes_tri</span>, B <span class="op">=</span> <span class="va">ventes_tri</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_ind3</span> <span class="op">&lt;-</span> <span class="fu"><a href="stack_tsDF.html">stack_tsDF</a></span><span class="op">(</span><span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="va">ventes_tri2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_ind3</span><span class="op">$</span><span class="va">alter</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">mes_ind3</span><span class="op">$</span><span class="va">alter</span><span class="op">[</span><span class="va">mes_ind3</span><span class="op">$</span><span class="va">series</span> <span class="op">==</span> <span class="st">"A.camionnettes"</span></span></span>
<span class="r-in"><span>                <span class="op">&amp;</span> <span class="va">mes_ind3</span><span class="op">$</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2012</span> <span class="op">&amp;</span> <span class="va">mes_ind3</span><span class="op">$</span><span class="va">period</span> <span class="op">&lt;=</span> <span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mes_ind3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       series year period value alter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 A.voitures 2011      1  1851     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 A.voitures 2011      2  2436     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 A.voitures 2011      3  3115     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 A.voitures 2011      4  2205     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 A.voitures 2012      1  1987     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 A.voitures 2012      2  2635     1</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">mes_ind3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             series year period value alter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 115 B.camionnettes 2017      1  2770     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116 B.camionnettes 2017      2  3080     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 117 B.camionnettes 2017      3  3100     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 118 B.camionnettes 2017      4  2800     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 119 B.camionnettes 2018      1  3100     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 120 B.camionnettes 2018      2  2860     1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ventes_ann2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.union.html" class="external-link">ts.union</a></span><span class="op">(</span>A <span class="op">=</span> <span class="va">ventes_ann</span>, B <span class="op">=</span> <span class="va">ventes_ann</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_eta3</span> <span class="op">&lt;-</span> <span class="fu"><a href="stack_bmkDF.html">stack_bmkDF</a></span><span class="op">(</span><span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="va">ventes_ann2</span>, ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">mes_eta3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       series startYear startPeriod endYear endPeriod value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 A.voitures      2011           1    2011         4 10324</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 A.voitures      2012           1    2012         4 10200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 A.voitures      2013           1    2013         4 10582</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 A.voitures      2014           1    2014         4 11097</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 A.voitures      2015           1    2015         4 11582</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 A.voitures      2016           1    2016         4 11092</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="va">mes_eta3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            series startYear startPeriod endYear endPeriod value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 B.camionnettes      2011           1    2011         4 12000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 B.camionnettes      2012           1    2012         4 10400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 B.camionnettes      2013           1    2013         4 11550</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 B.camionnettes      2014           1    2014         4 11400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 B.camionnettes      2015           1    2015         4 14500</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 B.camionnettes      2016           1    2016         4 16000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res_eta3</span> <span class="op">&lt;-</span> <span class="fu">benchmarking</span><span class="op">(</span><span class="va">mes_ind3</span>,</span></span>
<span class="r-in"><span>                         <span class="va">mes_eta3</span>,</span></span>
<span class="r-in"><span>                         rho <span class="op">=</span> <span class="fl">0.729</span>,</span></span>
<span class="r-in"><span>                         lambda <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                         biasOption <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                         var <span class="op">=</span> <span class="st">"value / alter"</span>,</span></span>
<span class="r-in"><span>                         with <span class="op">=</span> <span class="st">"value"</span>,</span></span>
<span class="r-in"><span>                         by <span class="op">=</span> <span class="st">"series"</span>,</span></span>
<span class="r-in"><span>                         quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 1 (series=A.voitures)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ===========================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 2 (series=A.camionnettes)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ===============================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 3 (series=B.voitures)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ===========================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 4 (series=B.camionnettes)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ===============================================</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Générerer les graphiques d'étalonnage</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_graphTable.html">plot_graphTable</a></span><span class="op">(</span><span class="va">res_eta3</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"Graphs_ex3.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 4 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\RtmpuGkRbM\Graphs_ex3.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convertir le « data frame » `res_eta3$series` en un objet « mts »</span></span></span>
<span class="r-in"><span><span class="va">ventes_tri2_eta</span> <span class="op">&lt;-</span> <span class="fu"><a href="tsDF_to_ts.html">tsDF_to_ts</a></span><span class="op">(</span><span class="fu"><a href="unstack_tsDF.html">unstack_tsDF</a></span><span class="op">(</span><span class="va">res_eta3</span><span class="op">$</span><span class="va">series</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Afficher les 10 premières observations</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="va">ventes_tri2_eta</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/start.html" class="external-link">start</a></span><span class="op">(</span><span class="va">ventes_tri2</span><span class="op">)</span>, deltat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/time.html" class="external-link">deltat</a></span><span class="op">(</span><span class="va">ventes_tri2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         A.voitures A.camionnettes B.voitures B.camionnettes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011 Q1   1987.762       2470.301   1987.762       2497.155</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011 Q2   2641.222       2956.559   2641.222       2980.984</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011 Q3   3366.003       4031.113   3366.003       4029.901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2011 Q4   2329.013       2542.026   2329.013       2491.960</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012 Q1   2021.161       1900.000   2021.161       2077.268</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012 Q2   2602.064       2500.000   2602.064       2466.739</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012 Q3   3320.486       3636.551   3320.486       3522.652</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2012 Q4   2256.289       2363.449   2256.289       2333.342</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013 Q1   2072.168       2071.868   2072.168       2060.533</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2013 Q2   2663.309       3112.774   2663.309       3110.631</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Vérifier la valeur des ventes de camionnettes pour 2012 T1 et T2 </span></span></span>
<span class="r-in"><span><span class="co"># dans le groupe A (valeurs fixes)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/window.html" class="external-link">window</a></span><span class="op">(</span><span class="va">ventes_tri2</span><span class="op">[</span>, <span class="st">"A.camionnettes"</span><span class="op">]</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2012</span>, <span class="fl">1</span><span class="op">)</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2012</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/r/stats/window.html" class="external-link">window</a></span><span class="op">(</span><span class="va">ventes_tri2_eta</span><span class="op">[</span>, <span class="st">"A.camionnettes"</span><span class="op">]</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2012</span>, <span class="fl">1</span><span class="op">)</span>, end <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2012</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Réinitialiser le répertoire de travail à son emplacement initial</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">rep_ini</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table des matières"><h2>Sur cette page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Développé par Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

