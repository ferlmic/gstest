<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate a benchmarking graphic — bench_graphs • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate a benchmarking graphic — bench_graphs"><meta name="description" content="
Functions used internally by plot_graphTable() to generate the benchmarking graphics in a PDF file:
ori_plot(): Original Scale Plot (plot_graphTable() argument ori_plot_flag = TRUE)
adj_plot(): Adjustment Scale Plot (plot_graphTable() argument adj_plot_flag = TRUE)
GR_plot(): Growth Rates Plot (plot_graphTable() argument GR_plot_flag = TRUE)
GR_table(): Growth Rates Table (plot_graphTable() argument GR_table_flag = TRUE)


When these functions are called directly, the graphTable data frame (argument graphTable) should only
contain a single series and the graphic is generated in the current (active) graphics device."><meta property="og:description" content="
Functions used internally by plot_graphTable() to generate the benchmarking graphics in a PDF file:
ori_plot(): Original Scale Plot (plot_graphTable() argument ori_plot_flag = TRUE)
adj_plot(): Adjustment Scale Plot (plot_graphTable() argument adj_plot_flag = TRUE)
GR_plot(): Growth Rates Plot (plot_graphTable() argument GR_plot_flag = TRUE)
GR_table(): Growth Rates Table (plot_graphTable() argument GR_table_flag = TRUE)


When these functions are called directly, the graphTable data frame (argument graphTable) should only
contain a single series and the graphic is generated in the current (active) graphics device."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Benchmarking CookBook</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">A Beginner's Benchmarking Demo Script</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">OSQP Settings Sequence Data Frame</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/tree/main/">G-Series 3.0 (latest - R package gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Series 2.0 (SAS® version)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Series 1.04 (SAS® version)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/en/','/fr/');"><span class="fa fa-language fa-lg"></span> Français</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate a benchmarking graphic</h1>
      <small class="dont-index">Source: <a href="https://github.com/ferlmic/gstest/tree/main/R/plot_graphTable.R" class="external-link"><code>R/plot_graphTable.R</code></a></small>
      <div class="d-none name"><code>bench_graphs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p></p>
<p>Functions used internally by <code><a href="plot_graphTable.html">plot_graphTable()</a></code> to generate the benchmarking graphics in a PDF file:</p><ul><li><p><code>ori_plot()</code>: Original Scale Plot (<code><a href="plot_graphTable.html">plot_graphTable()</a></code> argument <code>ori_plot_flag = TRUE</code>)</p></li>
<li><p><code>adj_plot()</code>: Adjustment Scale Plot (<code><a href="plot_graphTable.html">plot_graphTable()</a></code> argument <code>adj_plot_flag = TRUE</code>)</p></li>
<li><p><code>GR_plot()</code>: Growth Rates Plot (<code><a href="plot_graphTable.html">plot_graphTable()</a></code> argument <code>GR_plot_flag = TRUE</code>)</p></li>
<li><p><code>GR_table()</code>: Growth Rates Table (<code><a href="plot_graphTable.html">plot_graphTable()</a></code> argument <code>GR_table_flag = TRUE</code>)</p></li>
</ul><p>When these functions are called directly, the <strong>graphTable</strong> data frame (argument <code>graphTable</code>) should only
contain a <strong>single series</strong> and the graphic is generated in the current (active) graphics device.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ori_plot</span><span class="op">(</span></span>
<span>  <span class="va">graphTable</span>,</span>
<span>  title_str <span class="op">=</span> <span class="st">"Original Scale"</span>,</span>
<span>  subtitle_str <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mth_gap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  points_set <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pt_sz <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  display_ggplot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .setup <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">adj_plot</span><span class="op">(</span></span>
<span>  <span class="va">graphTable</span>,</span>
<span>  title_str <span class="op">=</span> <span class="st">"Adjustment Scale"</span>,</span>
<span>  subtitle_str <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mth_gap <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  full_set <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pt_sz <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  display_ggplot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .setup <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">GR_plot</span><span class="op">(</span></span>
<span>  <span class="va">graphTable</span>,</span>
<span>  title_str <span class="op">=</span> <span class="st">"Growth Rates"</span>,</span>
<span>  subtitle_str <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  factor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type_chars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  periodicity <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  display_ggplot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .setup <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">GR_table</span><span class="op">(</span></span>
<span>  <span class="va">graphTable</span>,</span>
<span>  title_str <span class="op">=</span> <span class="st">"Growth Rates Table"</span>,</span>
<span>  subtitle_str <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  factor <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type_chars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  display_ggplot <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  .setup <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graphtable">graphTable<a class="anchor" aria-label="anchor" href="#arg-graphtable"></a></dt>
<dd><p>(mandatory)</p>
<p>Data frame, or object to be coerced to one, corresponding to the benchmarking function output
<strong>graphTable</strong> data frame.</p></dd>


<dt id="arg-title-str-subtitle-str">title_str, subtitle_str<a class="anchor" aria-label="anchor" href="#arg-title-str-subtitle-str"></a></dt>
<dd><p>(optional)</p>
<p>Graphic title and subtitle strings (character constants). <code>subtitle_str</code> is automatically built from the
<code>graphTable</code> data frame contents when <code>NULL</code> and contains the <code>graphTable</code> data frame name on the 2<sup>nd</sup> line
and the benchmarking parameters on the 3<sup>rd</sup> line. Specifying empty strings (<code>""</code>) would remove the titles.
Simple Markdown and HTML syntax is allowed (e.g., for bold, italic or colored fonts) thanks to the internal use of
the <a href="https://wilkelab.org/ggtext/reference/ggtext.html" class="external-link">ggtext</a> package (see <code><a href="https://wilkelab.org/ggtext/reference" class="external-link">help(package = "ggtext")</a></code>).</p>
<p><strong>Default values</strong> are <code>subtitle_str = NULL</code> and a function specific string for <code>title_str</code> (see <strong>Usage</strong>).</p></dd>


<dt id="arg-mth-gap">mth_gap<a class="anchor" aria-label="anchor" href="#arg-mth-gap"></a></dt>
<dd><p>(optional)</p>
<p>Number of months between consecutive periods (e.g. 1 for monthly data, 3 for quarterly data, etc.). Based
on the <code>graphTable</code> data frame contents  when <code>NULL</code> (calculated as <code>12 / graphTable$periodicity[1]</code>).</p>
<p><strong>Default value</strong> is <code>mth_gap = NULL</code>.</p></dd>


<dt id="arg-points-set-full-set">points_set, full_set<a class="anchor" aria-label="anchor" href="#arg-points-set-full-set"></a></dt>
<dd><p>(optional)</p>
<p>Character vector of the elements (variables of the <code>graphTable</code> data frame) to include in the plot.
Automatically built when <code>NULL</code>. See <code><a href="plot_graphTable.html">plot_graphTable()</a></code> for the (default) list of variables used for each
type of graphic.</p>
<p><strong>Default values</strong> are <code>points_set = NULL</code> and <code>full_set = NULL</code>.</p></dd>


<dt id="arg-pt-sz">pt_sz<a class="anchor" aria-label="anchor" href="#arg-pt-sz"></a></dt>
<dd><p>(optional)</p>
<p>Size of the data points shape (symbol) for ggplot2.</p>
<p><strong>Default value</strong> is <code>pt_sz = 2</code>.</p></dd>


<dt id="arg-display-ggplot">display_ggplot<a class="anchor" aria-label="anchor" href="#arg-display-ggplot"></a></dt>
<dd><p>(optional)</p>
<p>Logical arguments indicating whether or not the ggplot object(s) should be displayed in the current (active)
graphics device.</p>
<p><strong>Default value</strong> is <code>display_ggplot = TRUE</code>.</p></dd>


<dt id="arg--setup">.setup<a class="anchor" aria-label="anchor" href="#arg--setup"></a></dt>
<dd><p>(optional)</p>
<p>Logical argument indicating whether the setup steps must be executed or not. Must be <code>TRUE</code> when the function
is called directly (i.e., outside of the <code><a href="plot_graphTable.html">plot_graphTable()</a></code> context).</p>
<p><strong>Default value</strong> is <code>.setup = TRUE</code>.</p></dd>


<dt id="arg-factor-type-chars">factor, type_chars<a class="anchor" aria-label="anchor" href="#arg-factor-type-chars"></a></dt>
<dd><p>(optional)</p>
<p>Growth rates factor (1 or 100) and value label suffix ("" or "(%)") according to the adjustment model parameter
\(\lambda\). Based on the <code>graphTable</code> data frame contents when <code>NULL</code> (based on <code>graphTable$lambda[1]</code>).</p>
<p><strong>Default values</strong> are <code>factor = NULL</code> and <code>type_chars = NULL</code>.</p></dd>


<dt id="arg-periodicity">periodicity<a class="anchor" aria-label="anchor" href="#arg-periodicity"></a></dt>
<dd><p>(optional)</p>
<p>Number of periods in a year. Based on the <code>graphTable</code> data frame contents when <code>NULL</code> (defined as
<code>graphTable$periodicity[1]</code>).</p>
<p><strong>Default value</strong> is <code>periodicity = NULL</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>In addition to displaying the corresponding graphic(s) in the current (active) graphics device (except when
<code>display_ggplot = FALSE</code>), each function also invisibly returns a list containing the generated ggplot object(s).</p><ul><li><p><code>ori_plot()</code> and <code>adj_plot()</code> generate a single ggplot object (single graphic) while <code>GR_plot()</code> and <code>GR_table()</code>
will often generated several ggplot objects (several graphics).</p></li>
<li><p>The returned ggplot object(s) can be displayed <em>manually</em> with <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, in which case the following ggplot2 theme
updates (used internally when <code>display_ggplot = TRUE</code>) are suggested:</p>
<p></p><div class="sourceCode R"><pre><code><span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_update</a></span><span class="op">(</span></span>
<span>  plot.title <span class="op">=</span> <span class="fu">ggtext</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_markdown.html" class="external-link">element_markdown</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  plot.subtitle <span class="op">=</span> <span class="fu">ggtext</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/ggtext/reference/element_markdown.html" class="external-link">element_markdown</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  plot.margin <span class="op">=</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">margin</a></span><span class="op">(</span>t <span class="op">=</span> <span class="fl">1.5</span>, r <span class="op">=</span> <span class="fl">1.5</span>, b <span class="op">=</span> <span class="fl">1.5</span>, l <span class="op">=</span> <span class="fl">1.5</span>, unit <span class="op">=</span> <span class="st">"cm"</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See <code><a href="plot_graphTable.html">plot_graphTable()</a></code> for a detailed description of the four benchmarking graphics associated to these
individual functions. These graphics are optimized for the US Letter paper size format in landscape view, i.e.,
11in wide (27.9cm, 1056px with 96 DPI) and 8.5in tall (21.6cm, 816px with 96 DPI). Keep this in mind when
viewing or saving graphics generated by calls to these individual functions (i.e., outside of the <code><a href="plot_graphTable.html">plot_graphTable()</a></code>
context). Also note that <code>GR_plot()</code> and <code>GR_table()</code> will often generate more than one graphic (more than one
<em>page</em>), unless the number of periods included in the input <code>graphTable</code> data frame is reduced (e.g., subsetting
the data frame by ranges of calendar years).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot_graphTable.html">plot_graphTable()</a></code> <code><a href="plot_benchAdj.html">plot_benchAdj()</a></code> <code><a href="benchmarking.html">benchmarking()</a></code> <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Deactivate the graphics device creation for the pkgdown website HTML reference page</span></span></span>
<span class="r-in"><span><span class="co"># (irrelevant in that context)</span></span></span>
<span class="r-in"><span><span class="va">new_grDev</span> <span class="op">&lt;-</span> <span class="op">!</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"IN_PKGDOWN"</span><span class="op">)</span>, <span class="st">"true"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Initial quarterly time series (indicator series to be benchmarked)</span></span></span>
<span class="r-in"><span><span class="va">qtr_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.9</span>, <span class="fl">2.4</span>, <span class="fl">3.1</span>, <span class="fl">2.2</span>, <span class="fl">2.0</span>, <span class="fl">2.6</span>, <span class="fl">3.4</span>, <span class="fl">2.4</span>, <span class="fl">2.3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>             start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2015</span>, <span class="fl">1</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Annual time series (benchmarks)</span></span></span>
<span class="r-in"><span><span class="va">ann_ts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10.3</span>, <span class="fl">10.2</span><span class="op">)</span>, start <span class="op">=</span> <span class="fl">2015</span>, frequency <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Proportional benchmarking</span></span></span>
<span class="r-in"><span><span class="va">out_bench</span> <span class="op">&lt;-</span> <span class="fu"><a href="benchmarking.html">benchmarking</a></span><span class="op">(</span><span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="va">qtr_ts</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="va">ann_ts</span>, ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          rho <span class="op">=</span> <span class="fl">0.729</span>, lambda <span class="op">=</span> <span class="fl">1</span>, biasOption <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                          quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Open a new graphics device that is 11in wide and 8.5in tall </span></span></span>
<span class="r-in"><span><span class="co"># (US Letter paper size format in landscape view)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">new_grDev</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.new</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">11</span>, height <span class="op">=</span> <span class="fl">8.5</span>, unit <span class="op">=</span> <span class="st">"in"</span>, noRStudioGD <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate the benchmarking graphics</span></span></span>
<span class="r-in"><span><span class="fu">ori_plot</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-1.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span><span class="fu">adj_plot</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-2.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span><span class="fu">GR_plot</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-3.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span><span class="fu">GR_table</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-4.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulate multiple series benchmarking (3 series)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">qtr_mts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.union.html" class="external-link">ts.union</a></span><span class="op">(</span>ser1 <span class="op">=</span> <span class="va">qtr_ts</span>, ser2 <span class="op">=</span> <span class="va">qtr_ts</span> <span class="op">*</span> <span class="fl">100</span>, ser3 <span class="op">=</span> <span class="va">qtr_ts</span> <span class="op">*</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ann_mts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.union.html" class="external-link">ts.union</a></span><span class="op">(</span>ser1 <span class="op">=</span> <span class="va">ann_ts</span>, ser2 <span class="op">=</span> <span class="va">ann_ts</span> <span class="op">*</span> <span class="fl">100</span>, ser3 <span class="op">=</span> <span class="va">ann_ts</span> <span class="op">*</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using argument `allCols = TRUE` (identify series with column `varSeries`)</span></span></span>
<span class="r-in"><span><span class="va">out_bench2</span> <span class="op">&lt;-</span> <span class="fu"><a href="benchmarking.html">benchmarking</a></span><span class="op">(</span><span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="va">qtr_mts</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="va">ann_mts</span>, ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           rho <span class="op">=</span> <span class="fl">0.729</span>, lambda <span class="op">=</span> <span class="fl">1</span>, biasOption <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                           allCols <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                           quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [ser1] with benchmarks [ser1]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [ser2] with benchmarks [ser2]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [ser3] with benchmarks [ser3]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> -----------------------------------------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Original and adjustment scale plots for the 2nd series (ser2)</span></span></span>
<span class="r-in"><span><span class="va">ser2_res</span> <span class="op">&lt;-</span> <span class="va">out_bench2</span><span class="op">$</span><span class="va">graphTable</span><span class="op">[</span><span class="va">out_bench2</span><span class="op">$</span><span class="va">graphTable</span><span class="op">$</span><span class="va">varSeries</span> <span class="op">==</span> <span class="st">"ser2"</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">ori_plot</span><span class="op">(</span><span class="va">ser2_res</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-5.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span><span class="fu">adj_plot</span><span class="op">(</span><span class="va">ser2_res</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-6.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using argument `by = "series"` (identify series with column `series`)</span></span></span>
<span class="r-in"><span><span class="va">out_bench3</span> <span class="op">&lt;-</span> <span class="fu"><a href="benchmarking.html">benchmarking</a></span><span class="op">(</span><span class="fu"><a href="stack_tsDF.html">stack_tsDF</a></span><span class="op">(</span><span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span><span class="va">qtr_mts</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           <span class="fu"><a href="stack_bmkDF.html">stack_bmkDF</a></span><span class="op">(</span><span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span><span class="va">ann_mts</span>, ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                           rho <span class="op">=</span> <span class="fl">0.729</span>, lambda <span class="op">=</span> <span class="fl">1</span>, biasOption <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>                           by <span class="op">=</span> <span class="st">"series"</span>,</span></span>
<span class="r-in"><span>                           quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 1 (series=ser1)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> =====================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 2 (series=ser2)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> =====================================</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking by-group 3 (series=ser3)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> =====================================</span>
<span class="r-in"><span>               </span></span>
<span class="r-in"><span><span class="co"># Growth rates plot for the 3rd series (ser3)</span></span></span>
<span class="r-in"><span><span class="va">ser3_res</span> <span class="op">&lt;-</span> <span class="va">out_bench3</span><span class="op">$</span><span class="va">graphTable</span><span class="op">[</span><span class="va">out_bench3</span><span class="op">$</span><span class="va">graphTable</span><span class="op">$</span><span class="va">series</span> <span class="op">==</span> <span class="st">"ser3"</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">GR_plot</span><span class="op">(</span><span class="va">ser3_res</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="bench_graphs-7.png" alt="" width="1056" height="816"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Close the graphics device </span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="va">new_grDev</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

