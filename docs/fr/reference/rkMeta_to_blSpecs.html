<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Convertir des métadonnées de réconciliation — rkMeta_to_blSpecs • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Convertir des métadonnées de réconciliation — rkMeta_to_blSpecs"><meta name="description" content="Convertir un data frame de métadonnées tsraking() en un data frame de spécifications de problème tsbalancing()."><meta property="og:description" content="Convertir un data frame de métadonnées tsraking() en un data frame de spécifications de problème tsbalancing()."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Navigation sur le site"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Dernière version publiée">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Prise en main</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Référence</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Livre de recette sur l'étalonnage</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">Un script d'étalonnage pour débutant</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">« Data frame » pour la séquence de paramètres d'OSQP</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-nouveaut-s" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Nouveautés</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-nouveaut-s"><li><h6 class="dropdown-header" data-toc-skip>Versions</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/tree/main/">G-Séries 3.0 (version la plus récente - librairie R gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Séries 2.0 (version SAS®)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Séries 1.04 (version SAS®)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changements</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Rechercher sur le site" placeholder="Rechercher" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/fr/','/en/');"><span class="fa fa-language fa-lg"></span> English</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Convertir des métadonnées de réconciliation</h1>
      <small class="dont-index">Source : <a href="https://github.com/ferlmic/gstest/tree/main/fr/R/rkMeta_to_blSpecs.R" class="external-link"><code>R/rkMeta_to_blSpecs.R</code></a></small>
      <div class="d-none name"><code>rkMeta_to_blSpecs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Convertir un <em>data frame</em> de métadonnées <code><a href="tsraking.html">tsraking()</a></code> en un <em>data frame</em> de spécifications de problème <code><a href="tsbalancing.html">tsbalancing()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Utilisation<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rkMeta_to_blSpecs</span><span class="op">(</span></span>
<span>  <span class="va">metadata_df</span>,</span>
<span>  alterability_df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alterSeries <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  alterTotal1 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alterTotal2 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alterability_df_only <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-metadata-df">metadata_df<a class="anchor" aria-label="anchor" href="#arg-metadata-df"></a></dt>
<dd><p>(obligatoire)</p>
<p><em>Data frame</em>, ou objet compatible, qui décrit les contraintes d'agrégation transversales (règles d'additivité) pour le
problème de ratissage (« <em>raking</em> »). Deux variables de type caractère doivent être incluses dans le <em>data frame</em> :
<code>series</code> et <code>total1</code>. Deux variables sont optionnelles : <code>total2</code> (caractère) et <code>alterAnnual</code> (numérique). Les valeurs
de la variable <code>series</code> représentent les noms des variables des séries composantes dans le <em>data frame</em> des données
d'entrée (argument <code>data_df</code>). De même, les valeurs des variables <code>total1</code> et <code>total2</code> représentent les noms des variables
des totaux de contrôle transversaux de 1<sup>ère</sup> et 2<sup>ème</sup> dimension dans le <em>data frame</em> des données
d'entrée. La variable <code>alterAnnual</code> contient le coefficient d'altérabilité pour la contrainte temporelle associée à
chaque série composante. Lorsqu'elle est spécifiée, cette dernière remplace le coefficient d'altérabilité par défaut
spécifié avec l'argument <code>alterAnnual</code>.</p></dd>


<dt id="arg-alterability-df">alterability_df<a class="anchor" aria-label="anchor" href="#arg-alterability-df"></a></dt>
<dd><p>(optionnel)</p>
<p><em>Data frame</em>, ou objet compatible, ou <code>NULL</code>, qui contient les variables de coefficients d'altérabilité. Elles
doivent correspondre à une série composante ou à un total de contrôle transversal, c'est-à-dire qu'une variable
portant le même nom doit exister dans le <em>data frame</em> des données d'entrée (argument <code>data_df</code>). Les valeurs de
ces coefficients d'altérabilité remplaceront les coefficients d'altérabilité par défaut spécifiés avec les arguments
<code>alterSeries</code>, <code>alterTotal1</code> et <code>alterTotal2</code>. Lorsque le <em>data frame</em> des données d'entrée contient plusieurs
enregistrements et que le <em>data frame</em> des coefficients d'altérabilité n'en contient qu'un seul, les coefficients
d'altérabilité sont utilisés (répétés) pour tous les enregistrements du <em>data frame</em> des données d'entrée. Le
<em>data frame</em> des coefficients d'altérabilité peut également contenir autant d'enregistrements que le <em>data frame</em>
des données d'entrée.</p>
<p><strong>La valeur par défaut</strong> est <code>alterability_df = NULL</code> (coefficients d'altérabilité par défaut).</p></dd>


<dt id="arg-alterseries">alterSeries<a class="anchor" aria-label="anchor" href="#arg-alterseries"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif spécifiant le coefficient d'altérabilité par défaut pour les valeurs des séries composantes.
Il s'appliquera aux séries composantes pour lesquelles des coefficients d'altérabilité n'ont pas déjà été spécifiés
dans le <em>data frame</em> des coefficients d'altérabilité (argument <code>alterability_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>alterSeries = 1.0</code> (valeurs des séries composantes non contraignantes).</p></dd>


<dt id="arg-altertotal-">alterTotal1<a class="anchor" aria-label="anchor" href="#arg-altertotal-"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif spécifiant le coefficient d'altérabilité par défaut pour les totaux de contrôle transversaux
de la 1<sup>ère</sup> dimension. Il s'appliquera aux totaux de contrôle transversaux pour lesquels des coefficients
d'altérabilité n'ont pas déjà été spécifiés dans le <em>data frame</em> des coefficients d'altérabilité (argument
<code>alterability_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>alterTotal1 = 0.0</code> (totaux de contrôle transversaux de 1<sup>ère</sup> dimension
contraignants).</p></dd>


<dt id="arg-altertotal-">alterTotal2<a class="anchor" aria-label="anchor" href="#arg-altertotal-"></a></dt>
<dd><p>(optionnel)</p>
<p>Nombre réel non négatif spécifiant le coefficient d'altérabilité par défaut pour les totaux de contrôle transversaux
de la 2<sup>ème</sup> dimension. Il s'appliquera aux totaux de contrôle transversaux pour lesquels des coefficients
d'altérabilité n'ont pas déjà été spécifiés dans le <em>data frame</em> des coefficients d'altérabilité (argument
<code>alterability_df</code>).</p>
<p><strong>La valeur par défaut</strong> est <code>alterTotal2 = 0.0</code> (totaux de contrôle transversaux de 2<sup>ème</sup> dimension
contraignants).</p></dd>


<dt id="arg-alterability-df-only">alterability_df_only<a class="anchor" aria-label="anchor" href="#arg-alterability-df-only"></a></dt>
<dd><p>(optionnel)</p>
<p>Argument logique (<em>logical</em>) spécifiant si oui ou non seul l'ensemble des coefficients d'altérabilité trouvés dans le
fichier d'altérabilité (argument <code>alterability_df</code>) doit être inclus dans le <em>data frame</em> de spécifications de problème
<code><a href="tsbalancing.html">tsbalancing()</a></code> renvoyé. Lorsque <code>alterability_df_only = FALSE</code> (la valeur par défaut), les coefficients d'altérabilité
spécifiés avec les arguments <code>alterSeries</code>, <code>alterTotal1</code> et <code>alterTotal2</code> sont combinés avec ceux trouvés dans
<code>alterability_df</code> (les derniers coefficients remplaçant les premiers) et le <em>data frame</em> renvoyé contient donc les
coefficients d'altérabilité pour toutes les séries composantes et de totaux de contrôle transversaux. Cet argument
n'affecte pas l'ensemble des coefficients d'altérabilité des totaux temporels (associés à l'argument <code>alterAnnual</code> de
<code><a href="tsraking.html">tsraking()</a></code>) qui sont inclus dans le <em>data frame</em> de spécifications de problème <code><a href="tsbalancing.html">tsbalancing()</a></code> renvoyé. Ce dernier
contient toujours strictement ceux spécifiés dans <code>metadata_df</code> avec une valeur non manquante (non <code>NA</code>) pour la colonne
<code>alterAnnual</code>.</p>
<p><strong>La valeur par défaut</strong> est <code>alterability_df_only = FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="valeur-de-retour">Valeur de retour<a class="anchor" aria-label="anchor" href="#valeur-de-retour"></a></h2>
    <p>Un <em>data frame</em> de spécifications de problème <code><a href="tsbalancing.html">tsbalancing()</a></code> (argument <code>problem_specs_df</code>).</p>
    </div>
    <div class="section level2">
    <h2 id="d-tails">Détails<a class="anchor" aria-label="anchor" href="#d-tails"></a></h2>
    <p>La description précédente de l'argument <code>alterability_df</code> provient de <code><a href="tsraking.html">tsraking()</a></code>. Cette fonction (<code>rkMeta_to_blSpecs()</code>)
modifie légèrement la spécification des coefficients d'altérabilité avec l'argument <code>alterability_df</code> en permettant</p><ul><li><p>soit un seul enregistrement, spécifiant l'ensemble des coefficients d'altérabilité à utiliser pour toutes les périodes,</p></li>
<li><p>soit un ou plusieurs enregistrements avec une colonne supplémentaire nommée <code>timeVal</code> permettant de spécifier à la fois
des coefficients d'altérabilité spécifiques à la période (<code>timeVal</code> n'est pas <code>NA</code>) et des coefficients génériques à
utiliser pour toutes les autres périodes (<code>timeVal</code> est <code>NA</code>). Les valeurs de la colonne <code>timeVal</code> correspondent aux
<em>valeurs de temps</em> d'un objet « ts » telles que renvoyées par <code><a href="https://rdrr.io/r/stats/time.html" class="external-link">stats::time()</a></code>, correspondant conceptuellement à
\(ann\acute{e}e + (p\acute{e}riode - 1) / fr\acute{e}quence\).</p></li>
</ul><p>Une autre différence avec <code><a href="tsraking.html">tsraking()</a></code> est que des valeurs manquantes (<code>NA</code>) sont autorisés dans le <em>data frame</em> des
coefficients d'altérabilité (argument <code>alterability_df</code>) et que l'on utiliserait alors les coefficients génériques
(enregistrements pour lesquels <code>timeVal</code> est <code>NA</code>) ou les coefficients par défaut (arguments <code>alterSeries</code>, <code>alterTotal1</code>
et <code>alterTotal2</code>).</p>
<p>Notez que à part rejeter les coefficients d'altérabilité pour les séries qui ne sont pas énumérées dans le <em>data frame</em>
des métadonnées de ratissage (argument <code>metadata_df</code>), cette fonction ne valide pas les valeurs trouvées dans le
<em>data frame</em> des coefficients d'altérabilité (argument <code>alterability_df</code>) ni celles trouvées dans la colonne <code>alterAnnual</code>
du <em>data frame</em> des métadonnées de ratissage (argument <code>metadata_df</code>). La fonction les transfère <em>telles quelles</em> dans le
<em>data frame</em> des spécifications de problème <code><a href="tsbalancing.html">tsbalancing()</a></code> renvoyé.</p>
    </div>
    <div class="section level2">
    <h2 id="voir-galement">Voir également<a class="anchor" aria-label="anchor" href="#voir-galement"></a></h2>
    <div class="dont-index"><p><code><a href="tsraking.html">tsraking()</a></code> <code><a href="tsbalancing.html">tsbalancing()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Exemples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Métadonnées de `tsraking()` pour un problème à deux dimensions (table 2 x 2)</span></span></span>
<span class="r-in"><span><span class="va">mes_metadonnees</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"B1"</span>, <span class="st">"B2"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              total1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"totA"</span>, <span class="st">"totA"</span>, <span class="st">"totB"</span>, <span class="st">"totB"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              total2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tot1"</span>, <span class="st">"tot2"</span>, <span class="st">"tot1"</span>, <span class="st">"tot2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">mes_metadonnees</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   series total1 total2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     A1   totA   tot1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     A2   totA   tot2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     B1   totB   tot1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     B2   totB   tot2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convertir en spécifications de `tsbalancing()`</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Inclure les coefficients d'altérabilité par défaut de `tsraking()`</span></span></span>
<span class="r-in"><span><span class="fu">rkMeta_to_blSpecs</span><span class="op">(</span><span class="va">mes_metadonnees</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     type  col                       row coef timeVal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     EQ &lt;NA&gt;   Marginal Total 1 (totA)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   &lt;NA&gt;   A1   Marginal Total 1 (totA)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   &lt;NA&gt;   A2   Marginal Total 1 (totA)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   &lt;NA&gt; totA   Marginal Total 1 (totA)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     EQ &lt;NA&gt;   Marginal Total 2 (totB)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   &lt;NA&gt;   B1   Marginal Total 2 (totB)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   &lt;NA&gt;   B2   Marginal Total 2 (totB)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   &lt;NA&gt; totB   Marginal Total 2 (totB)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9     EQ &lt;NA&gt;   Marginal Total 3 (tot1)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  &lt;NA&gt;   A1   Marginal Total 3 (tot1)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  &lt;NA&gt;   B1   Marginal Total 3 (tot1)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  &lt;NA&gt; tot1   Marginal Total 3 (tot1)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13    EQ &lt;NA&gt;   Marginal Total 4 (tot2)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  &lt;NA&gt;   A2   Marginal Total 4 (tot2)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  &lt;NA&gt;   B2   Marginal Total 4 (tot2)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  &lt;NA&gt; tot2   Marginal Total 4 (tot2)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 alter &lt;NA&gt; Period Value Alterability   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  &lt;NA&gt;   A1 Period Value Alterability    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19  &lt;NA&gt;   A2 Period Value Alterability    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20  &lt;NA&gt;   B1 Period Value Alterability    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21  &lt;NA&gt;   B2 Period Value Alterability    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22  &lt;NA&gt; totA Period Value Alterability    0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  &lt;NA&gt; totB Period Value Alterability    0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24  &lt;NA&gt; tot1 Period Value Alterability    0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25  &lt;NA&gt; tot2 Period Value Alterability    0      NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Totaux presque contraignants pour la 1ère marge (petits coef. d'altérabilité pour </span></span></span>
<span class="r-in"><span><span class="co"># les colonnes `totA` et `totB`)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu">rkMeta_to_blSpecs</span><span class="op">(</span><span class="va">mes_metadonnees</span>, alterTotal1 <span class="op">=</span> <span class="fl">1e-6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    type  col                       row  coef timeVal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 &lt;NA&gt;   B1 Period Value Alterability 1e+00      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 &lt;NA&gt;   B2 Period Value Alterability 1e+00      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 &lt;NA&gt; totA Period Value Alterability 1e-06      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 &lt;NA&gt; totB Period Value Alterability 1e-06      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 &lt;NA&gt; tot1 Period Value Alterability 0e+00      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 &lt;NA&gt; tot2 Period Value Alterability 0e+00      NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Ne pas inclure les coef. d'altérabilité (contraintes d'agrégation uniquement)</span></span></span>
<span class="r-in"><span><span class="fu">rkMeta_to_blSpecs</span><span class="op">(</span><span class="va">mes_metadonnees</span>, alterability_df_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    type  col                     row coef timeVal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    EQ &lt;NA&gt; Marginal Total 1 (totA)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  &lt;NA&gt;   A1 Marginal Total 1 (totA)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  &lt;NA&gt;   A2 Marginal Total 1 (totA)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  &lt;NA&gt; totA Marginal Total 1 (totA)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5    EQ &lt;NA&gt; Marginal Total 2 (totB)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  &lt;NA&gt;   B1 Marginal Total 2 (totB)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  &lt;NA&gt;   B2 Marginal Total 2 (totB)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  &lt;NA&gt; totB Marginal Total 2 (totB)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9    EQ &lt;NA&gt; Marginal Total 3 (tot1)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 &lt;NA&gt;   A1 Marginal Total 3 (tot1)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 &lt;NA&gt;   B1 Marginal Total 3 (tot1)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 &lt;NA&gt; tot1 Marginal Total 3 (tot1)   -1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13   EQ &lt;NA&gt; Marginal Total 4 (tot2)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 &lt;NA&gt;   A2 Marginal Total 4 (tot2)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 &lt;NA&gt;   B2 Marginal Total 4 (tot2)    1      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 &lt;NA&gt; tot2 Marginal Total 4 (tot2)   -1      NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Avec un fichier de coefficients d'altérabilité (argument `alterability_df`)</span></span></span>
<span class="r-in"><span><span class="va">mes_coefsAlt</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>B2 <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu">rkMeta_to_blSpecs</span><span class="op">(</span><span class="va">mes_metadonnees</span>, alterability_df <span class="op">=</span> <span class="va">mes_coefsAlt</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    type  col                       row coef timeVal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 &lt;NA&gt;   B1 Period Value Alterability  1.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 &lt;NA&gt;   B2 Period Value Alterability  0.5      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 &lt;NA&gt; totA Period Value Alterability  0.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 &lt;NA&gt; totB Period Value Alterability  0.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 &lt;NA&gt; tot1 Period Value Alterability  0.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 &lt;NA&gt; tot2 Period Value Alterability  0.0      NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># N'inclure que les coefficients d'altérabilité du fichier `alterability_df` </span></span></span>
<span class="r-in"><span><span class="co"># (c.-à-d. pour la colonne `B2`)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">tail</a></span><span class="op">(</span><span class="fu">rkMeta_to_blSpecs</span><span class="op">(</span><span class="va">mes_metadonnees</span>, alterability_df <span class="op">=</span> <span class="va">mes_coefsAlt</span>,</span></span>
<span class="r-in"><span>                       alterability_df_only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     type  col                       row coef timeVal</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13    EQ &lt;NA&gt;   Marginal Total 4 (tot2)   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14  &lt;NA&gt;   A2   Marginal Total 4 (tot2)  1.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  &lt;NA&gt;   B2   Marginal Total 4 (tot2)  1.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  &lt;NA&gt; tot2   Marginal Total 4 (tot2) -1.0      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 alter &lt;NA&gt; Period Value Alterability   NA      NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  &lt;NA&gt;   B2 Period Value Alterability  0.5      NA</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table des matières"><h2>Sur cette page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Développé par Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

