<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Build the elements of the raking problem. — build_raking_problem • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Build the elements of the raking problem. — build_raking_problem"><meta name="description" content="
This function is used internally by tsraking() to build the elements of the raking problem. It can also
be useful to derive the cross-sectional (marginal) totals of the raking problem manually (outside of the tsraking()
context)."><meta property="og:description" content="
This function is used internally by tsraking() to build the elements of the raking problem. It can also
be useful to derive the cross-sectional (marginal) totals of the raking problem manually (outside of the tsraking()
context)."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Benchmarking CookBook</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">A Beginner's Benchmarking Demo Script</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">OSQP Settings Sequence Data Frame</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/tree/main/">G-Series 3.0 (latest - R package gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Series 2.0 (SAS® version)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Series 1.04 (SAS® version)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/en/','/fr/');"><span class="fa fa-language fa-lg"></span> Français</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Build the elements of the raking problem.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ferlmic/gstest/tree/main/R/tsraking.R" class="external-link"><code>R/tsraking.R</code></a></small>
      <div class="d-none name"><code>build_raking_problem.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p></p>
<p>This function is used internally by <code><a href="tsraking.html">tsraking()</a></code> to build the elements of the raking problem. It can also
be useful to derive the cross-sectional (marginal) totals of the raking problem manually (outside of the <code><a href="tsraking.html">tsraking()</a></code>
context).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">build_raking_problem</span><span class="op">(</span></span>
<span>  <span class="va">data_df</span>,</span>
<span>  <span class="va">metadata_df</span>,</span>
<span>  data_df_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse1</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="va">data_df</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  metadata_df_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/deparse.html" class="external-link">deparse1</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substitute.html" class="external-link">substitute</a></span><span class="op">(</span><span class="va">metadata_df</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  alterability_df <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alterSeries <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  alterTotal1 <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  alterTotal2 <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data-df">data_df<a class="anchor" aria-label="anchor" href="#arg-data-df"></a></dt>
<dd><p>(mandatory)</p>
<p>Data frame, or object to be coerced to one, that contains the time series data to be reconciled. It must minimally
contain variables corresponding to the component series and cross-sectional control totals specified in the
metadata data frame (argument <code>metadata_df</code>). If more than one observation (period) is provided, the sum of
the provided component series values will also be preserved as part of implicit temporal constraints.</p></dd>


<dt id="arg-metadata-df">metadata_df<a class="anchor" aria-label="anchor" href="#arg-metadata-df"></a></dt>
<dd><p>(mandatory)</p>
<p>Data frame, or object to be coerced to one, that describes the cross-sectional aggregation constraints
(additivity rules) for the raking problem. Two character variables must be included in the metadata data frame:
<code>series</code> and <code>total1</code>. Two variables are optional: <code>total2</code> (character) and <code>alterAnnual</code> (numeric). The values
of variable <code>series</code> represent the variable names of the component series in the input time series data frame
(argument <code>data_df</code>). Similarly, the values of variables <code>total1</code> and <code>total2</code> represent the variable names of
the 1<sup>st</sup> and 2<sup>nd</sup> dimension cross-sectional control totals in the input time series data
frame. Variable <code>alterAnnual</code> contains the alterability coefficient for the temporal constraint associated to
each component series. When specified, the latter will override the default alterability coefficient specified
with argument <code>alterAnnual</code>.</p></dd>


<dt id="arg-data-df-name">data_df_name<a class="anchor" aria-label="anchor" href="#arg-data-df-name"></a></dt>
<dd><p>(optional)</p>
<p>String containing the value of argument <code>data_df</code>.</p>
<p><strong>Default value</strong> is <code>data_df_name = deparse1(substitute(data_df))</code>.</p></dd>


<dt id="arg-metadata-df-name">metadata_df_name<a class="anchor" aria-label="anchor" href="#arg-metadata-df-name"></a></dt>
<dd><p>(optional)</p>
<p>String containing the value of argument <code>metadata_df</code>.</p>
<p><strong>Default value</strong> is <code>metadata_df_name = deparse1(substitute(metadata_df))</code>.</p></dd>


<dt id="arg-alterability-df">alterability_df<a class="anchor" aria-label="anchor" href="#arg-alterability-df"></a></dt>
<dd><p>(optional)</p>
<p>Data frame, or object to be coerced to one, or <code>NULL</code>, that contains the alterability coefficients variables.
They must correspond to a component series or a cross-sectional control total, that is, a variable with the same
name must exist in the input time series data frame (argument <code>data_df</code>). The values of these alterability
coefficients will override the default alterability coefficients specified with arguments <code>alterSeries</code>,
<code>alterTotal1</code> and <code>alterTotal2</code>. When the input time series data frame contains several observations and the
alterability coefficients data frame contains only one, the alterability coefficients are used (repeated) for
all observations of the input time series data frame. Alternatively, the alterability coefficients data frame
may contain as many observations as the input time series data frame.</p>
<p><strong>Default value</strong> is <code>alterability_df = NULL</code> (default alterability coefficients).</p></dd>


<dt id="arg-alterseries">alterSeries<a class="anchor" aria-label="anchor" href="#arg-alterseries"></a></dt>
<dd><p>(optional)</p>
<p>Nonnegative real number specifying the default alterability coefficient for the component series values. It
will apply to component series for which alterability coefficients have not already been specified in the
alterability coefficients data frame (argument <code>alterability_df</code>).</p>
<p><strong>Default value</strong> is <code>alterSeries = 1.0</code> (nonbinding component series values).</p></dd>


<dt id="arg-altertotal-">alterTotal1<a class="anchor" aria-label="anchor" href="#arg-altertotal-"></a></dt>
<dd><p>(optional)</p>
<p>Nonnegative real number specifying the default alterability coefficient for the 1<sup>st</sup> dimension
cross-sectional control totals. It will apply to cross-sectional control totals for which alterability
coefficients have not already been specified in the alterability coefficients data frame (argument
<code>alterability_df</code>).</p>
<p><strong>Default value</strong> is <code>alterTotal1 = 0.0</code> (binding 1<sup>st</sup> dimension cross-sectional control totals)</p></dd>


<dt id="arg-altertotal-">alterTotal2<a class="anchor" aria-label="anchor" href="#arg-altertotal-"></a></dt>
<dd><p>(optional)</p>
<p>Nonnegative real number specifying the default alterability coefficient for the 2<sup>nd</sup> dimension
cross-sectional control totals. It will apply to cross-sectional control totals for which alterability
coefficients have not already been specified in the alterability coefficients data frame (argument
<code>alterability_df</code>).</p>
<p><strong>Default value</strong> is <code>alterTotal2 = 0.0</code> (binding 2<sup>nd</sup> dimension cross-sectional control totals).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the elements of the raking problem (excluding the implicit temporal totals):</p><ul><li><p><code>x</code>        : vector of component series initial values</p></li>
<li><p><code>c_x</code>      : vector of component series alterability coefficients</p></li>
<li><p><code>comp_cols</code>: vector of component series (column) names</p></li>
<li><p><code>g</code>        : vector of cross-sectional total initial values</p></li>
<li><p><code>c_g</code>      : vector of cross-sectional total alterability coefficients</p></li>
<li><p><code>tot_cols</code> : vector of cross-sectional total (column) names</p></li>
<li><p><code>G</code>        : cross-sectional total aggregation matrix (<code>g = G %*% x</code>)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See <code><a href="tsraking.html">tsraking()</a></code> for a detailed description of <em>time series raking</em> problems.</p>
<p>The returned raking problem elements do not include the implicit component series temporal totals
when applicable (i.e., elements <code>g</code> and <code>G</code> only contain the cross-sectional totals info).</p>
<p>When the input data contains multiple periods (temporal total preservation scenario), raking problem
elements <code>x</code>, <code>c_x</code>, <code>g</code>, <code>c_g</code> and <code>G</code> are constructed <em>column by column</em> (in "column-major order"),
corresponding to the default behaviour of R for converting objects of class "matrix" into vectors.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="tsraking.html">tsraking()</a></code> <code><a href="build_balancing_problem.html">build_balancing_problem()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Derive the 5 marginal totals of a 2 x 3 two-dimensional data cube using `tsraking()` </span></span></span>
<span class="r-in"><span><span class="co"># metadata.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my_metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A1"</span>, <span class="st">"A2"</span>, <span class="st">"A3"</span>,</span></span>
<span class="r-in"><span>                                     <span class="st">"B1"</span>, <span class="st">"B2"</span>, <span class="st">"B3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          total1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"totA"</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                     <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"totB"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                          total2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tot1"</span>, <span class="st">"tot2"</span>, <span class="st">"tot3"</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">my_metadata</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   series total1 total2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     A1   totA   tot1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     A2   totA   tot2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     A3   totA   tot3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     B1   totB   tot1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     B2   totB   tot2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6     B3   totB   tot3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 6 periods of data with marginal totals set to `NA` (they MUST exist in the input data </span></span></span>
<span class="r-in"><span><span class="co"># but can be `NA`).</span></span></span>
<span class="r-in"><span><span class="va">my_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>A1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">12</span>, <span class="fl">10</span>, <span class="fl">12</span>,  <span class="fl">9</span>, <span class="fl">15</span>,  <span class="fl">7</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      B1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">21</span>, <span class="fl">15</span>, <span class="fl">17</span>, <span class="fl">19</span>, <span class="fl">18</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      A2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">14</span>,  <span class="fl">9</span>,  <span class="fl">8</span>,  <span class="fl">9</span>, <span class="fl">11</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      B2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">29</span>, <span class="fl">20</span>, <span class="fl">24</span>, <span class="fl">21</span>, <span class="fl">17</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      A3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">13</span>, <span class="fl">15</span>, <span class="fl">17</span>, <span class="fl">14</span>, <span class="fl">16</span>, <span class="fl">12</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      B3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">24</span>, <span class="fl">20</span>, <span class="fl">30</span>, <span class="fl">23</span>, <span class="fl">21</span>, <span class="fl">19</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      tot1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      tot2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      tot3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      totA <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                      totB <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get the raking problem elements.</span></span></span>
<span class="r-in"><span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">build_raking_problem</span><span class="op">(</span><span class="va">my_data</span>, <span class="va">my_metadata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ x        : num [1:36] 12 10 12 9 15 7 14 9 8 9 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c_x      : num [1:36] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ comp_cols: chr [1:6] "A1" "A2" "A3" "B1" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ g        : logi [1:30] NA NA NA NA NA NA ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ c_g      : num [1:30] 0 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ tot_cols : chr [1:5] "totA" "totB" "tot1" "tot2" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ G        : num [1:30, 1:36] 1 0 0 0 0 0 0 0 0 0 ...</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate the 5 marginal totals for all 6 periods.</span></span></span>
<span class="r-in"><span><span class="va">my_data</span><span class="op">[</span><span class="va">p</span><span class="op">$</span><span class="va">tot_cols</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">p</span><span class="op">$</span><span class="va">G</span> <span class="op"><a href="https://rdrr.io/r/base/matmult.html" class="external-link">%*%</a></span> <span class="va">p</span><span class="op">$</span><span class="va">x</span></span></span>
<span class="r-in"><span><span class="va">my_data</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   A1 B1 A2 B2 A3 B3 tot1 tot2 tot3 totA totB</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 12 20 14 20 13 24   32   34   37   39   64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 10 21  9 29 15 20   31   38   35   34   70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 12 15  8 20 17 30   27   28   47   37   65</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  9 17  9 24 14 23   26   33   37   32   64</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 15 19 11 21 16 21   34   32   37   42   61</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  7 18 10 17 12 19   25   27   31   29   54</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

