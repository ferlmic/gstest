<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate benchmarking graphics in a PDF file — plot_graphTable • gstest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate benchmarking graphics in a PDF file — plot_graphTable"><meta name="description" content="
Create a PDF file (US Letter paper size format in landscape view) containing benchmarking graphics for the set of series
contained in the specified benchmarking function (benchmarking() or stock_benchmarking()) output graphTable
data frame (argument graphTable). Four types of benchmarking graphics can be generated for each series:
Original Scale Plot (argument ori_plot_flag) - overlay graph of:
Indicator series
Average indicator series
Bias corrected indicator series (when \(\rho &amp;lt; 1\))
Benchmarked series
Average benchmark

Adjustment Scale Plot (argument adj_plot_flag) - overlay graph of:
Benchmarking adjustments
Average benchmarking adjustments
Bias line (when \(\rho &amp;lt; 1\))

Growth Rates Plot (argument GR_plot_flag) - bar chart of the indicator and benchmarked series growth rates.
Growth Rates Table (argument GR_table_flag) - table of the indicator and benchmarked series growth rates.


These graphics can be useful to assess the quality of the benchmarking results. Any of the four types of
benchmarking graphics can be enabled or disabled with the corresponding flag. The first three types of graphics
(the plots) are generated by default while the fourth (growth rates table) is not."><meta property="og:description" content="
Create a PDF file (US Letter paper size format in landscape view) containing benchmarking graphics for the set of series
contained in the specified benchmarking function (benchmarking() or stock_benchmarking()) output graphTable
data frame (argument graphTable). Four types of benchmarking graphics can be generated for each series:
Original Scale Plot (argument ori_plot_flag) - overlay graph of:
Indicator series
Average indicator series
Bias corrected indicator series (when \(\rho &amp;lt; 1\))
Benchmarked series
Average benchmark

Adjustment Scale Plot (argument adj_plot_flag) - overlay graph of:
Benchmarking adjustments
Average benchmarking adjustments
Bias line (when \(\rho &amp;lt; 1\))

Growth Rates Plot (argument GR_plot_flag) - bar chart of the indicator and benchmarked series growth rates.
Growth Rates Table (argument GR_table_flag) - table of the indicator and benchmarked series growth rates.


These graphics can be useful to assess the quality of the benchmarking results. Any of the four types of
benchmarking graphics can be enabled or disabled with the corresponding flag. The first three types of graphics
(the plots) are generated by default while the fourth (growth rates table) is not."><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gstest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">3.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/gstest.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/benchmarking-cookbook.html">Benchmarking CookBook</a></li>
    <li><a class="dropdown-item" href="../articles/benchmarking-demo-script.html">A Beginner's Benchmarking Demo Script</a></li>
    <li><a class="dropdown-item" href="../articles/osqp-settings-sequence-dataframe.html">OSQP Settings Sequence Data Frame</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v3.0.0/">G-Series 3.0 (latest - R package gstest 3.0.0)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v2.0/">G-Series 2.0 (SAS® version)</a></li>
    <li><a class="external-link dropdown-item" href="https://github.com/ferlmic/gstest/releases/tag/v1.04/">G-Series 1.04 (SAS® version)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ferlmic/gstest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>

    <ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="#" onclick="window.location = location.href.replace('/en/','/fr/');"><span class="fa fa-language fa-lg"></span> Français</a></li></ul></div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate benchmarking graphics in a PDF file</h1>
      <small class="dont-index">Source: <a href="https://github.com/ferlmic/gstest/tree/main/R/plot_graphTable.R" class="external-link"><code>R/plot_graphTable.R</code></a></small>
      <div class="d-none name"><code>plot_graphTable.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p></p>
<p>Create a PDF file (US Letter paper size format in landscape view) containing benchmarking graphics for the set of series
contained in the specified benchmarking function (<code><a href="benchmarking.html">benchmarking()</a></code> or <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code>) output <strong>graphTable</strong>
data frame (argument <code>graphTable</code>). Four types of benchmarking graphics can be generated for each series:</p><ul><li><p><strong>Original Scale Plot</strong> (argument <code>ori_plot_flag</code>) - overlay graph of:</p><ul><li><p>Indicator series</p></li>
<li><p>Average indicator series</p></li>
<li><p>Bias corrected indicator series (when \(\rho &lt; 1\))</p></li>
<li><p>Benchmarked series</p></li>
<li><p>Average benchmark</p></li>
</ul></li>
<li><p><strong>Adjustment Scale Plot</strong> (argument <code>adj_plot_flag</code>) - overlay graph of:</p><ul><li><p>Benchmarking adjustments</p></li>
<li><p>Average benchmarking adjustments</p></li>
<li><p>Bias line (when \(\rho &lt; 1\))</p></li>
</ul></li>
<li><p><strong>Growth Rates Plot</strong> (argument <code>GR_plot_flag</code>) - bar chart of the indicator and benchmarked series growth rates.</p></li>
<li><p><strong>Growth Rates Table</strong> (argument <code>GR_table_flag</code>) - table of the indicator and benchmarked series growth rates.</p></li>
</ul><p>These graphics can be useful to assess the quality of the benchmarking results. Any of the four types of
benchmarking graphics can be enabled or disabled with the corresponding flag. The first three types of graphics
(the plots) are generated by default while the fourth (growth rates table) is not.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_graphTable</span><span class="op">(</span></span>
<span>  <span class="va">graphTable</span>,</span>
<span>  <span class="va">pdf_file</span>,</span>
<span>  ori_plot_flag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  adj_plot_flag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  GR_plot_flag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  GR_table_flag <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  add_bookmarks <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graphtable">graphTable<a class="anchor" aria-label="anchor" href="#arg-graphtable"></a></dt>
<dd><p>(mandatory)</p>
<p>Data frame, or object to be coerced to one, corresponding to the benchmarking function output
<strong>graphTable</strong> data frame.</p></dd>


<dt id="arg-pdf-file">pdf_file<a class="anchor" aria-label="anchor" href="#arg-pdf-file"></a></dt>
<dd><p>(mandatory)</p>
<p>Name (and path) of the PDF file that will contain the benchmarking graphics. The name should include the ".pdf"
file extension. The PDF file is created in the R session working directory (as returned by <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code>) if a path
is not specified. Specifying <code>NULL</code> would cancel the creation of a PDF file.</p></dd>


<dt id="arg-ori-plot-flag-adj-plot-flag-gr-plot-flag-gr-table-flag">ori_plot_flag, adj_plot_flag, GR_plot_flag, GR_table_flag<a class="anchor" aria-label="anchor" href="#arg-ori-plot-flag-adj-plot-flag-gr-plot-flag-gr-table-flag"></a></dt>
<dd><p>(optional)</p>
<p>Logical arguments indicating whether or not the corresponding type of benchmarking graphic should be generated.
All three plots are generated by default but not the growth rates tables.</p>
<p><strong>Default values</strong> are <code>ori_plot_flag = TRUE</code>, <code>adj_plot_flag = TRUE</code>, <code>GR_plot_flag = TRUE</code> and
<code>GR_table_flag = FALSE</code>.</p></dd>


<dt id="arg-add-bookmarks">add_bookmarks<a class="anchor" aria-label="anchor" href="#arg-add-bookmarks"></a></dt>
<dd><p>Logical argument indicating whether or not bookmarks should be added to the PDF file. See <strong>Bookmarks</strong> in section
<strong>Details</strong> for more information.</p>
<p><strong>Default value</strong> is <code>add_bookmarks = TRUE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>In addition to creating a PDF file containing the benchmarking graphics (except when <code>pdf_file = NULL</code>), this function
also invisibly returns a list with the following elements:</p><ul><li><p><strong>pdf_name</strong>: Character string (character vector of length one) that contains the complete name and path of the PDF
file if it was successfully created and <code>invisible(NA_character_)</code> otherwise or if <code>pdf_file = NULL</code> was specified.</p></li>
<li><p><strong>graph_list</strong>: List of the generated benchmarking graphics (one per series) with the following elements:</p><ul><li><p><strong>name</strong>: Character string describing the series (matches the bookmark name in the PDF file).</p></li>
<li><p><strong>page</strong>: Integer representing the sequence number of the first graphic for the series in the entire sequence of
graphics for all series (matches the page number in the PDF file).</p></li>
<li><p><strong>ggplot_list</strong>: List of ggplot objects (one per graphic or page in the PDF file) corresponding to the generated
benchmarking graphics for the series. See section <strong>Value</strong> in <a href="bench_graphs.html">bench_graphs</a> for details.</p></li>
</ul></li>
</ul><p>Note that the returned ggplot objects can be displayed <em>manually</em> with <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>, in which case some updates to the
ggplot2 theme defaults are recommended in order to produce graphics with a similar look and feel as those generated in
the PDF file (see section <strong>Value</strong> in <a href="bench_graphs.html">bench_graphs</a> for details). Also keep in mind that these graphics are optimized
for the US Letter paper size format in landscape view (as displayed in the PDF file), i.e., 11in wide (27.9cm, 1056px
with 96 DPI) and 8.5in tall (21.6cm, 816px with 96 DPI).</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>List of the <strong>graphTable</strong> data frame (argument <code>graphTable</code>) variables corresponding to each element of the four
types of benchmarking graphics:</p><ul><li><p>Original Scale Plot (argument <code>ori_plot_flag</code>)</p><ul><li><p><code>subAnnual</code> for the <em>Indicator Series</em> line</p></li>
<li><p><code>avgSubAnnual</code> for the <em>Avg. Indicator Series</em> segments</p></li>
<li><p><code>subAnnualCorrected</code> for the <em>Bias Corr. Indicator Series</em> line (when \(\rho &lt; 1\))</p></li>
<li><p><code>benchmarked</code> for the <em>Benchmarked Series</em> line</p></li>
<li><p><code>avgBenchmark</code> for the <em>Average Benchmark</em> segments</p></li>
</ul></li>
<li><p>Adjustment Scale Plot (argument <code>adj_plot_flag</code>)</p><ul><li><p><code>benchmarkedSubAnnualRatio</code> for the <em>BI Ratios (Benchmarked Series / Indicator Series)</em> line \(^{(*)}\)</p></li>
<li><p><code>avgBenchmarkSubAnnualRatio</code> for the <em>Average BI Ratios</em> segments \(^{(*)}\)</p></li>
<li><p><code>bias</code> for the <em>Bias</em> line (when \(\rho &lt; 1\))</p></li>
</ul></li>
<li><p>Growth Rates Plot (argument <code>GR_plot_flag</code>)</p><ul><li><p><code>growthRateSubAnnual</code> for the <em>Growth R. in Indicator Series</em> bars \(^{(*)}\)</p></li>
<li><p><code>growthRateBenchmarked</code> for the <em>Growth R. in Benchmarked Series</em> bars \(^{(*)}\)</p></li>
</ul></li>
<li><p>Growth Rates Table (argument <code>GR_table_flag</code>)</p><ul><li><p><code>year</code> for the <em>Year</em> column</p></li>
<li><p><code>period</code> for the <em>Period</em> column</p></li>
<li><p><code>subAnnual</code> for the <em>Indicator Series</em> column</p></li>
<li><p><code>benchmarked</code> for the <em>Benchmarked Series</em> column</p></li>
<li><p><code>growthRateSubAnnual</code> for the <em>Growth Rate in Indicator Series</em> column \(^{(*)}\)</p></li>
<li><p><code>growthRateBenchmarked</code> for the <em>Growth Rate in Benchmarked Series</em> column \(^{(*)}\)</p></li>
</ul></li>
</ul><p>\(^{(*)}\) <em>BI ratios</em> and <em>growth rates</em> actually correspond to <em>differences</em> when \(\lambda = 0\) (additive
benchmarking).</p>
<p>The function uses the extra columns of the <code>graphTable</code> data frame (columns not listed in the <strong>Value</strong> section of
<code><a href="benchmarking.html">benchmarking()</a></code> and <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code>), if any, to build BY-groups. See section <strong>Benchmarking Multiple Series</strong>
of <code><a href="benchmarking.html">benchmarking()</a></code> for more details.</p><div class="section">
<h3 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a></h3>


<p>The two types of growth rates graphics, i.e., the bar chart (<code>GR_plot_flag</code>) and table (<code>GR_table_flag</code>), often requires
the generation of several pages in the PDF file, especially for long monthly series with several years of data. This creation of
extra pages slows down the execution of <code>plot_graphTable()</code>. This is why only the bar chart is generated by default
(<code>GR_plot_flag = TRUE</code> and <code>GR_table_flag = FALSE</code>). Deactivating both types of growth rates graphics (<code>GR_plot_flag = FALSE</code>
and <code>GR_table_flag = FALSE</code>) or reducing the size of the input <code>graphTable</code> data frame for very long series (e.g., keeping
only recent years) could therefore improve execution time. Also note that the impact of benchmarking on the growth rates can be
deduced from the adjustment scale plot (<code>adj_plot_flag</code>) by examining the extent of vertical movement (downward or upward) of the
benchmarking adjustments between adjacent periods: the greater the vertical movement, the greater the impact on corresponding growth
rate. Execution time of <code>plot_graphTable()</code> could therefore be reduced, if needed, by only generating the first two types of graphics
while focusing on the adjustment scale plot to assess period-to-period movement preservation, i.e., the impact of benchmarking on
the initial growth rates.</p>
</div>

<div class="section">
<h3 id="ggplot-themes">ggplot2 themes<a class="anchor" aria-label="anchor" href="#ggplot-themes"></a></h3>


<p>The plots are generated with the ggplot2 package which comes with a convenient set of <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">complete themes</a> for the general look and feel of the plots (with <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_grey()</a></code>
as the default theme). Use function <code><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set()</a></code> to change the theme applied to the plots generated by <code>plot_graphTable()</code>
(see the <strong>Examples</strong>).</p>
</div>

<div class="section">
<h3 id="bookmarks">Bookmarks<a class="anchor" aria-label="anchor" href="#bookmarks"></a></h3>


<p>Bookmarks are added to the PDF file with <code><a href="https://trevorldavis.com/R/xmpdf/reference/bookmarks.html" class="external-link">xmpdf::set_bookmarks()</a></code> when argument <code>add_bookmarks = TRUE</code> (default), which
requires a command-line tool such as <a href="https://www.ghostscript.com/" class="external-link">Ghostscript</a>  or
<a href="https://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/" class="external-link">PDFtk</a>. See section <strong>Installation</strong> in
<code><a href="https://trevorldavis.com/R/xmpdf/articles/xmpdf.html" class="external-link">vignette("xmpdf", package = "xmpdf")</a></code> for details.</p>
<p><strong>Important</strong>: bookmarks will be successfully added to the PDF file <strong>if and only if</strong> <code><a href="https://trevorldavis.com/R/xmpdf/reference/supports.html" class="external-link">xmpdf::supports_set_bookmarks()</a></code> returns <code>TRUE</code> <strong>and</strong> the execution of <code><a href="https://trevorldavis.com/R/xmpdf/reference/bookmarks.html" class="external-link">xmpdf::set_bookmarks()</a></code> is
successful. If Ghostscript is installed on your machine but <code><a href="https://trevorldavis.com/R/xmpdf/reference/supports.html" class="external-link">xmpdf::supports_set_bookmarks()</a></code> still returns <code>FALSE</code>, try
specifying the path of the Ghostscript executable in environment variable <code>R_GSCMD</code> (e.g.,
<code>Sys.setenv(R_GSCMD = "C:/Program Files/.../bin/gswin64c.exe")</code> on Windows). On the other hand, if
<code>xmpdf::supports_set_bookmarks()}</code> returns <code>TRUE</code> but you are experiencing (irresolvable) issues with <code><a href="https://trevorldavis.com/R/xmpdf/reference/bookmarks.html" class="external-link">xmpdf::set_bookmarks()</a></code>
(e.g., error related to the Ghostscript executable), bookmarks creation can be disabled by specifying <code>add_bookmarks = FALSE</code>.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="bench_graphs.html">bench_graphs</a> <code><a href="plot_benchAdj.html">plot_benchAdj()</a></code> <code><a href="benchmarking.html">benchmarking()</a></code> <code><a href="stock_benchmarking.html">stock_benchmarking()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Set the working directory (for the PDF files)</span></span></span>
<span class="r-in"><span><span class="va">iniwd</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Quarterly car and van sales (indicator series)</span></span></span>
<span class="r-in"><span><span class="va">qtr_ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_tsDF.html">ts_to_tsDF</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># Car sales</span></span></span>
<span class="r-in"><span>              <span class="fl">1851</span>, <span class="fl">2436</span>, <span class="fl">3115</span>, <span class="fl">2205</span>, <span class="fl">1987</span>, <span class="fl">2635</span>, <span class="fl">3435</span>, <span class="fl">2361</span>, <span class="fl">2183</span>, <span class="fl">2822</span>,</span></span>
<span class="r-in"><span>              <span class="fl">3664</span>, <span class="fl">2550</span>, <span class="fl">2342</span>, <span class="fl">3001</span>, <span class="fl">3779</span>, <span class="fl">2538</span>, <span class="fl">2363</span>, <span class="fl">3090</span>, <span class="fl">3807</span>, <span class="fl">2631</span>,</span></span>
<span class="r-in"><span>              <span class="fl">2601</span>, <span class="fl">3063</span>, <span class="fl">3961</span>, <span class="fl">2774</span>, <span class="fl">2476</span>, <span class="fl">3083</span>, <span class="fl">3864</span>, <span class="fl">2773</span>, <span class="fl">2489</span>, <span class="fl">3082</span>,</span></span>
<span class="r-in"><span>              <span class="co"># Van sales</span></span></span>
<span class="r-in"><span>              <span class="fl">1900</span>, <span class="fl">2200</span>, <span class="fl">3000</span>, <span class="fl">2000</span>, <span class="fl">1900</span>, <span class="fl">2500</span>, <span class="fl">3800</span>, <span class="fl">2500</span>, <span class="fl">2100</span>, <span class="fl">3100</span>,</span></span>
<span class="r-in"><span>              <span class="fl">3650</span>, <span class="fl">2950</span>, <span class="fl">3300</span>, <span class="fl">4000</span>, <span class="fl">3290</span>, <span class="fl">2600</span>, <span class="fl">2010</span>, <span class="fl">3600</span>, <span class="fl">3500</span>, <span class="fl">2100</span>,</span></span>
<span class="r-in"><span>              <span class="fl">2050</span>, <span class="fl">3500</span>, <span class="fl">4290</span>, <span class="fl">2800</span>, <span class="fl">2770</span>, <span class="fl">3080</span>, <span class="fl">3100</span>, <span class="fl">2800</span>, <span class="fl">3100</span>, <span class="fl">2860</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2011</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     frequency <span class="op">=</span> <span class="fl">4</span>,</span></span>
<span class="r-in"><span>     names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"car_sales"</span>, <span class="st">"van_sales"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Annual car and van sales (benchmarks)</span></span></span>
<span class="r-in"><span><span class="va">ann_bmk</span> <span class="op">&lt;-</span> <span class="fu"><a href="ts_to_bmkDF.html">ts_to_bmkDF</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="co"># Car sales</span></span></span>
<span class="r-in"><span>              <span class="fl">10324</span>, <span class="fl">10200</span>, <span class="fl">10582</span>, <span class="fl">11097</span>, <span class="fl">11582</span>, <span class="fl">11092</span>,</span></span>
<span class="r-in"><span>              <span class="co"># Van sales</span></span></span>
<span class="r-in"><span>              <span class="fl">12000</span>, <span class="fl">10400</span>, <span class="fl">11550</span>, <span class="fl">11400</span>, <span class="fl">14500</span>, <span class="fl">16000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>            ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     start <span class="op">=</span> <span class="fl">2011</span>,</span></span>
<span class="r-in"><span>     frequency <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>     names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"car_sales"</span>, <span class="st">"van_sales"</span><span class="op">)</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  ind_frequency <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Proportional benchmarking without bias correction</span></span></span>
<span class="r-in"><span><span class="va">out_bench</span> <span class="op">&lt;-</span> <span class="fu"><a href="benchmarking.html">benchmarking</a></span><span class="op">(</span><span class="va">qtr_ind</span>, <span class="va">ann_bmk</span>, </span></span>
<span class="r-in"><span>                          rho <span class="op">=</span> <span class="fl">0.729</span>, lambda <span class="op">=</span> <span class="fl">1</span>, biasOption <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>                          allCols <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                          quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [car_sales] with benchmarks [car_sales]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking indicator series [van_sales] with benchmarks [van_sales]</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> ---------------------------------------------------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Default set of graphics (the 3 types of plots)</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"bench_graphs.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\bench_graphs.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Temporarily use ggplot2 `theme_bw()` for the plots</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">ini_theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_get</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"bench_graphs_bw.pdf"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\bench_graphs_bw.pdf</span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html" class="external-link">theme_set</a></span><span class="op">(</span><span class="va">ini_theme</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate all 4 types of graphics (including the growth rates table)</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"bench_graphs_with_GRTable.pdf"</span>,</span></span>
<span class="r-in"><span>                GR_table_flag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\bench_graphs_with_GRTable.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Reduce execution time by disabling both types of growth rates graphics</span></span></span>
<span class="r-in"><span><span class="fu">plot_graphTable</span><span class="op">(</span><span class="va">out_bench</span><span class="op">$</span><span class="va">graphTable</span>, <span class="st">"bench_graphs_no_GR.pdf"</span>,</span></span>
<span class="r-in"><span>                GR_plot_flag <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Generating the benchmarking graphics. Please be patient...</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Benchmarking graphics generated for 2 series in the following PDF file:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>   %TEMP%\Rtmp6HbHhe\bench_graphs_no_GR.pdf</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Reset the working directory to its initial location</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="va">iniwd</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michel Ferland, Statistics Canada.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

